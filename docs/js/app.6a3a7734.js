(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],d=0,h=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&h.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(h.length)h.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0008":function(t,e,a){},"17be":function(t,e,a){"use strict";a("b4a2")},"1ba5":function(t,e,a){},2603:function(t,e,a){},2922:function(t,e,a){"use strict";a("78b8")},"3d53":function(t,e,a){"use strict";a("1ba5")},"3fb6":function(t,e,a){"use strict";a("2603")},4012:function(t,e,a){"use strict";a("b599")},"437c":function(t,e,a){},"4ede":function(t,e,a){"use strict";a("602e")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("a026"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("site-header"),a("site-body",[a("router-view")],1),a("site-footer")],1)},n=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{on:{click:t.scrollTop}},[a("div",{attrs:{id:"test"}},[t._v("Â ")]),a("router-link",{attrs:{to:"/",id:"header-title-link"}},[a("h2",[t._v("ConcerTrack")])]),t.showTrackedLink?a("router-link",{attrs:{to:"/tracked",id:"tracked-link"}},[a("p",[t._v("Tracked Artists")])]):t._e(),t.hideSearchElements?t._e():a("div",{attrs:{id:"search-tracked-view"}},[a("autocomplete",{attrs:{title:"",placeholder:"Search for an artist",data:"static/AllList.json",callback:"artistSearch",submitText:"<i class='fa fa-search' aria-hidden='true'></i>"}})],1),t.showSearchMobile?a("div",{staticClass:"animated slideInDown",attrs:{id:"search-mobile"}},[a("div",{attrs:{id:"search-mobile-close"},on:{click:t.showSearch}},[a("i",{staticClass:"fa fa-times"})]),a("autocomplete",{attrs:{title:"",placeholder:"Search for an artist",data:"static/AllList.json",callback:"artistSearch",submitText:"<i class='fa fa-search' aria-hidden='true'></i>"}})],1):t._e(),t.hideSearchElements?t._e():a("div",{attrs:{id:"search-icon"},on:{click:t.showSearch}},[t._v(" Search "),a("i",{staticClass:"fa fa-search"})]),a("span",{staticClass:"square"}),a("span",{staticClass:"square"}),a("span",{staticClass:"square"}),a("span",{staticClass:"square"}),a("span",{staticClass:"square"})],1)},o=[],c=(a("ac1f"),a("1276"),a("caad"),a("2532"),a("d3b7"),a("25f0"),a("b85c")),l=a("1da1"),u=(a("96cf"),a("5319"),a("3ca3"),a("ddb0"),{}),d=u,h="https://rest.bandsintown.com/",v="?app_id=ConcerTrack v0.0.1",f="http://localhost:5000/",m=function(t){return new Promise((function(e,a){fetch(t,{method:"GET",headers:{accept:"application/json"}}).then((function(t){return t.json()})).then((function(t){e(t)})).catch((function(t){a(t)}))}))},g=function(t,e){return new Promise((function(a,s){fetch(t,{method:"POST",headers:{"Content-Type":"application/json",accept:"application/json"},body:e}).then((function(t){a(t)})).catch((function(t){s(t)}))}))},p=function(t,e){return new Promise((function(a,s){fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json",accept:"application/json"},body:e}).then((function(t){a(t)})).catch((function(t){s(t)}))}))};u.doesArtistExist=function(t){if("leon grasmeijer"!=t.toLowerCase()){t=t.replace("'","");var e=h+"artists/"+t+v;return m(e)}this.$router.push({path:"/artists/Leon Grasmeijer"})},u.getEvents=function(t){t=t.replace("'","");var e=h+"artists/"+t+"/events"+v;return m(e)},u.getArtistInfo=function(t){t=t.replace("'","");var e=h+"artists/"+t+v;return m(e)},u.getLastFMData=function(t){var e=encodeURIComponent(t),a="https://ws.audioscrobbler.com/2.0/",s="?method=artist.getinfo&api_key=a4629fdacfd93267704f599b874a59bf&format=json&artist=",i=a+s+e;return m(i)},u.saved={loaded:!1,allLocalEvents:[],trackedArtists:[],countrySet:!1,artistImages:[]},u.resetSaved=function(){u.saved={loaded:!1,allLocalEvents:[],trackedArtists:[],countrySet:!1,artistImages:[]}},u.lastArtist,u.lastArtistEvents,u.lastArtistEventsLocal,u.lastLastFMdata,u.autocompleteList={},u.trackArtist=function(t,e){var a=f+"tracked/"+e;return g(a,t)},u.removeTrackedArtist=function(t,e){var a=f+"tracked/"+e;return p(a,t)},u.getTrackedArtists=function(t){var e=f+"tracked/"+t;return m(e)},u.makeTrackCode=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",e="",a=0;a<32;a++){var s=Math.floor(Math.random()*t.length),i=t[s];e+=i}return e},u.migrateArtists=function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e,a){var s,i,n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=[],i=Object(c["a"])(a);try{for(i.s();!(n=i.n()).done;)r=n.value,o=u.trackArtist(r,e),s.push(o)}catch(l){i.e(l)}finally{i.f()}return t.prev=3,t.next=6,Promise.all(s);case 6:console.log("Migrating done"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),console.error("Promise errors",t.t0);case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,a){return t.apply(this,arguments)}}();var _={data:function(){return{hideSearchElements:!1,showSearchMobile:!1,showTrackedLink:!0}},mounted:function(){this.hideOrShowSearchElements()},watch:{$route:function(){this.hideOrShowSearchElements(),this.showSearchMobile=!1}},methods:{scrollTop:function(){for(var t=document.getElementsByClassName("scrollable"),e=0,a=t.length;e<a;e++)t[e].scrollTop=0},showSearch:function(){var t=this,e=!this.showSearchMobile;if(e)document.getElementById("input-field").focus(),this.showSearchMobile=!0;else{console.log("test");var a=document.getElementById("search-mobile");a.classList.add("slideOutUp");var s=function(){a.classList.remove("slideOutUp"),t.showSearchMobile=!1};a.addEventListener("animationend",(function(){s()}))}},hideOrShowSearchElements:function(){var t=this.$route.path;t=t.split("/").pop(),this.hideSearchElements=!t,this.showTrackedLink="tracked"!=t},callBackForm:function(t,e){var a=this;if("artistSearch"==t){var s=e;d.doesArtistExist(s).then((function(t){a.showSearchMobile=!1,d.lastArtist=t,t.id&&a.$router.push({path:"/artists/"+s})})).catch((function(t){if(t.toString().includes("SyntaxError"))for(var e=0,i=a.$children.length;e<i;e++){var n=a.$children[e];"autocomplete-container"==n.$el.id&&(n.inputValue=s,n.errorMessage="Sorry, we couldn't find that artist :(")}}))}}}},k=_,b=(a("2922"),a("4012"),a("2877")),w=Object(b["a"])(k,r,o,!1,null,null,null),y=w.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._t("default")],2)},C=[],S={},L=Object(b["a"])(S,A,C,!1,null,"6c195c2a",null),E=L.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",[a("span",{staticClass:"square"}),a("span",{staticClass:"square"}),a("span",{staticClass:"square"}),a("span",{staticClass:"square"}),a("span",{staticClass:"square"}),a("div",{attrs:{id:"info-wrapper"}},[t._m(0),a("div",{attrs:{id:"links"}},[a("router-link",{staticClass:"footer-link",attrs:{to:"/contact"}},[a("p",[t._v("Contact")])]),a("router-link",{staticClass:"footer-link",attrs:{to:"/faq"}},[a("p",[t._v("FAQ")])]),a("router-link",{staticClass:"footer-link",attrs:{to:"/disclaimer"}},[a("p",[t._v("Disclaimer")])]),a("router-link",{staticClass:"footer-link",attrs:{to:"/privacy"}},[a("p",[t._v("Privacy")])])],1)])])},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{attrs:{id:"footer-disclaimer"}},[t._v(" Made possible with the "),a("a",{attrs:{href:"https://bandsintown.com"}},[t._v("Bandsintown")]),t._v(" API."),a("br")])}],I=(a("99e7"),{}),x=Object(b["a"])(I,M,T,!1,null,"769b84d8",null),$=x.exports,F={data:function(){return{}},components:{SiteHeader:y,SiteBody:E,SiteFooter:$}},O=F,D=(a("6294"),Object(b["a"])(O,i,n,!1,null,null,null)),j=D.exports,U=a("8c4f"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"output-container"}},[a("div",{attrs:{id:"output"}},[a("div",{attrs:{id:"left-side"}},[t.imageUrl?a("img",{attrs:{src:t.imageUrl,alt:t.lastFMData.name,id:"artist-image"}}):a("img",{attrs:{id:"artist-image"}}),a("div",{attrs:{id:"img-container"}},[t.imageUrl?a("img",{attrs:{src:t.imageUrl,alt:"",id:"artist-image-mobile"}}):t._e()]),a("div",{attrs:{id:"info-container"}},[a("div",{attrs:{id:"info-wrapper"}},[a("h1",[t._v(t._s(t.lastFMData.name))]),t.artistInfo.facebook_page_url?a("a",{staticClass:"link-icon",attrs:{href:t.artistInfo.facebook_page_url}},[a("i",{staticClass:"fa fa-facebook-official",attrs:{"aria-hidden":"true"}})]):t._e(),t.bandcampUrl?a("a",{staticClass:"link-icon",attrs:{href:t.bandcampUrl}},[a("i",{staticClass:"fa fa-bandcamp",attrs:{"aria-hidden":"true"}})]):t._e(),t.lastFMData.url?a("a",{staticClass:"link-icon",attrs:{href:t.lastFMData.url}},[a("i",{staticClass:"fa fa-lastfm-square",attrs:{"aria-hidden":"true"}})]):t._e(),t.lastFMData?a("p",{attrs:{id:"normal-bio"},domProps:{innerHTML:t._s(t.artistBio)}},[t._v(" "+t._s(t.artistBio)+" ")]):t._e(),t.apiAvailable?a("div",[t.tracking?a("button",{staticClass:"mobile-button",attrs:{id:"track-button-tracked"},on:{click:t.toggleTrackArtist}},[t._v(" Stop Tracking ")]):a("button",{staticClass:"mobile-button",attrs:{id:"track-button"},on:{click:t.toggleTrackArtist}},[t._v(" Track Artist ")])]):t._e()])]),t.apiAvailable?a("div",[t.tracking?a("button",{staticClass:"normal-button",attrs:{id:"track-button-tracked"},on:{click:t.toggleTrackArtist}},[t._v(" Stop Tracking ")]):a("button",{staticClass:"normal-button",attrs:{id:"track-button"},on:{click:t.toggleTrackArtist}},[t._v(" Track Artist ")])]):a("div",{attrs:{id:"error-message-container"}},[a("p",{attrs:{id:"error-message"}},[t._v(t._s(t.errorMessage))])]),t.lastFMData?a("p",{attrs:{id:"mobile-bio"},domProps:{innerHTML:t._s(t.artistBio)}},[t._v(" "+t._s(t.artistBio)+" ")]):t._e()]),a("div",{attrs:{id:"right-side"}},[a("div",{attrs:{id:"local-event-container"}},[a("h1",[t._v("Local events:")]),t.countrySet?a("div",{attrs:{id:"local-events"}},[a("button",{attrs:{id:"change-location-button"},on:{click:t.resetCountry}},[t._v("Change location")]),t.localEvents.length?a("p",{staticClass:"amount-upcoming"},[t._v(" "+t._s(t.localEvents.length)+" upcoming events in country '"+t._s(t.countrySet)+"': ")]):t._e(),t._m(0),t._m(1),t.localEvents.length&&t.showAllLocal?a("div",{staticClass:"event-list",attrs:{id:"local-events-list"}},[t._l(t.localEvents,(function(e){return a("div",{key:e.datetime,staticClass:"event-div"},[a("p",{staticClass:"event-date"},[t._v(t._s(e.datetime))]),a("p",{staticClass:"event-venue"},[t._v(t._s(e.venue.name))]),a("p",{staticClass:"event-city"},[t._v(t._s(e.venue.city))]),a("p",{staticClass:"event-venue-location"},[t._v(" "+t._s(e.venue.name)+" "),a("br"),t._v(" "+t._s(e.venue.city)+" ")]),e.ticketUrl?a("a",{attrs:{href:e.ticketUrl}},[t._v("Tickets")]):a("a",{attrs:{href:e.searchUrl}},[t._v("Search tickets")])])})),t.localEvents.length>5?a("button",{staticClass:"show-more-less-button",on:{click:t.toggleMoreLessLocal}},[t._v("Show Less")]):t._e()],2):t._e(),t.localEvents.length&&!t.showAllLocal?a("div",{staticClass:"event-list",attrs:{id:"local-events-list"}},[t._l(t.firstFiveLocal,(function(e){return a("div",{key:e.datetime,staticClass:"event-div"},[a("p",{staticClass:"event-date"},[t._v(t._s(e.datetime))]),a("p",{staticClass:"event-venue"},[t._v(t._s(e.venue.name))]),a("p",{staticClass:"event-city"},[t._v(t._s(e.venue.city))]),a("p",{staticClass:"event-venue-location"},[t._v(" "+t._s(e.venue.name)+" "),a("br"),t._v(" "+t._s(e.venue.city)+" ")]),e.ticketUrl?a("a",{attrs:{href:e.ticketUrl}},[t._v("Tickets")]):a("a",{attrs:{href:e.searchUrl}},[t._v("Search tickets")])])})),t.localEvents.length>5?a("button",{staticClass:"show-more-less-button",on:{click:t.toggleMoreLessLocal}},[t._v("Show More")]):t._e()],2):t._e(),t.localEvents.length?t._e():a("div",{staticStyle:{"margin-top":"5px"}},[t._v("No local upcoming events :(")])]):a("div",{attrs:{id:"ask-location"}},[a("p",[t._v(" No location set, do you want to set it now so we can show you events in your country? ")]),a("div",{attrs:{id:"country-artist-view"}},[a("autocomplete",{attrs:{title:"Select country:",placeholder:"Country name",data:"static/countries.json",callback:"countrySearch",submitText:"Select"}})],1)])]),a("div",{attrs:{id:"event-container"}},[a("h1",[t._v("Global events:")]),t.events.length?a("p",{staticClass:"amount-upcoming"},[t._v(" "+t._s(t.artistInfo.upcoming_event_count)+" upcoming events worldwide: ")]):t._e(),t._m(2),t._m(3),t.events.length&&!t.showAllGlobal?a("div",{staticClass:"event-list",attrs:{id:"event-list"}},[t._l(t.firstFiveGlobal,(function(e){return a("div",{key:e.datetime,staticClass:"event-div"},[a("p",{staticClass:"event-date"},[t._v(t._s(e.datetime))]),a("p",{staticClass:"event-venue"},[t._v(t._s(e.venue.name))]),a("p",{staticClass:"event-city"},[t._v(t._s(e.venue.city)+", "+t._s(e.venue.country))]),a("p",{staticClass:"event-venue-location"},[t._v(" "+t._s(e.venue.name)+" "),a("br"),t._v(" "+t._s(e.venue.city)+", "+t._s(e.venue.country)+" ")]),e.ticketUrl?a("a",{attrs:{href:e.ticketUrl}},[t._v("Tickets")]):a("a",{attrs:{href:e.searchUrl}},[t._v("Search tickets")])])})),t.events.length>5?a("button",{staticClass:"show-more-less-button",on:{click:t.toggleMoreLessGlobal}},[t._v("Show More")]):t._e()],2):t._e(),t.events.length&&t.showAllGlobal?a("div",{staticClass:"event-list",attrs:{id:"event-list"}},[t._l(t.events,(function(e){return a("div",{key:e.datetime,staticClass:"event-div"},[a("p",{staticClass:"event-date"},[t._v(t._s(e.datetime))]),a("p",{staticClass:"event-venue"},[t._v(t._s(e.venue.name))]),a("p",{staticClass:"event-city"},[t._v(t._s(e.venue.city)+", "+t._s(e.venue.country))]),a("p",{staticClass:"event-venue-location"},[t._v(" "+t._s(e.venue.name)+" "),a("br"),t._v(" "+t._s(e.venue.city)+", "+t._s(e.venue.country)+" ")]),e.ticketUrl?a("a",{attrs:{href:e.ticketUrl}},[t._v("Tickets")]):a("a",{attrs:{href:e.searchUrl}},[t._v("Search tickets")])])})),t.events.length>5?a("button",{staticClass:"show-more-less-button",on:{click:t.toggleMoreLessGlobal}},[t._v("Show Less")]):t._e()],2):t._e(),t.events.length?t._e():a("div",{staticStyle:{"margin-top":"5px"}},[t._v("No global upcoming events :(")])])])])])},B=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-header"},[a("p",[t._v("Date")]),a("p",[t._v("Venue")]),a("p",[t._v("Location")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-header-mobile"},[a("p",[t._v("Date")]),t._v(" "),a("p",[t._v("Venue/Location")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-header"},[a("p",[t._v("Date")]),t._v(" "),a("p",[t._v("Venue")]),t._v(" "),a("p",[t._v("Location")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-header-mobile"},[a("p",[t._v("Date")]),t._v(" "),a("p",[t._v("Venue/Location")])])}],G=(a("fb6a"),a("b0c0"),a("159b"),a("99af"),a("a434"),a("2ef0")),q=a.n(G),V={data:function(){return{apiAvailable:!1,artist:"",artistInfo:{},bandcampUrl:"",events:[],errorMessage:"",lastFMData:{},artistBio:"",onTour:!1,imageUrl:"",countrySet:!1,localEvents:[],tracking:!1,trackedArtists:[],showAllLocal:!1,showAllGlobal:!1}},watch:{$route:function(){this.localEvents=[],this.onLoad()}},computed:{firstFiveLocal:function(){return q.a.slice(this.localEvents,0,5)},firstFiveGlobal:function(){return q.a.slice(this.events,0,5)}},created:function(){document.body.style.overflow="auto",this.onLoad()},mounted:function(){var t=localStorage.getItem("Country");t&&(this.countrySet=t)},methods:{onLoad:function(){var t=this,e=function(){var e=t.$route.params.artist;t.getAllInformation(e)};this.getTrackedArtists().then((function(){t.apiAvailable=!0,e()})).catch((function(a){console.error(a),t.apiAvailable=!1,t.errorMessage="Tracking unavailable, could not reach server.",e()}))},toggleMoreLessGlobal:function(){var t=document.getElementById("event-list"),e=t.scrollTop;this.showAllGlobal=!this.showAllGlobal,setTimeout((function(){t.scrollTop=e}),1)},toggleMoreLessLocal:function(){var t=document.getElementById("local-events-list"),e=t.scrollTop;this.showAllLocal=!this.showAllLocal,setTimeout((function(){t.scrollTop=e}),1)},getTrackedArtists:function(){var t=this,e=function(e,a){t.tracking=!1;for(var s=0,i=a.length;s<i;s++){var n=a[s];n.toLowerCase()==e.toLowerCase()&&(t.tracking=!0)}},a=this.$route.params.artist;return new Promise((function(s,i){if(d.saved.loaded)console.log("store"),t.trackedArtists=d.saved.trackedArtists,e(a,t.trackedArtists),s();else{console.log("new");var n=localStorage.getItem("trackCode"),r=localStorage.getItem("Tracked"),o=function(t){return new Promise((function(e,a){d.getTrackedArtists(t).then((function(t){e(t)})).catch((function(t){a(t)}))}))};if(n)o(n).then((function(i){t.trackedArtists=i,e(a,t.trackedArtists),s()})).catch((function(t){i(t)}));else if(r){var c=JSON.parse(r),l=d.makeTrackCode();d.migrateArtists(l,c.list).then((function(){localStorage.setItem("trackCode",l),location.reload()})).catch((function(){}))}else{var u=d.makeTrackCode();localStorage.setItem("trackCode",u),location.reload()}}}))},getAllInformation:function(t){this.getArtistInfo(t),this.getArtistEvents(t),this.checkBandcampAccount(t),this.getLastFMInfo(t)},getArtistEvents:function(t){var e=this;d.lastArtistEvents&&d.lastArtistEvents.name.toLowerCase()==t.toLowerCase()?(this.events=d.lastArtistEvents.events,this.localEvents=d.lastArtistEventsLocal.events):d.getEvents(t).then((function(a){e.events=a,e.events.forEach((function(t){var s=new Date(t.datetime),i=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];t.datetime="".concat(s.getDate()," ").concat(i[s.getMonth()]),t.url?t.ticketUrl=t.url:t.searchUrl="https://duckduckgo.com/?q="+a.artist+" "+t.datetime,t.venue.country==e.countrySet&&e.localEvents.push(t)})),d.lastArtistEvents={events:e.events,name:t},d.lastArtistEventsLocal={events:e.localEvents}}))},getArtistInfo:function(t){var e=this;d.lastArtist&&d.lastArtist.name.toLowerCase()==t.toLowerCase()?(this.artistInfo=d.lastArtist,this.imageUrl=this.artistInfo.thumb_url):d.getArtistInfo(t).then((function(t){e.artistInfo=t,d.lastArtist=t,e.imageUrl=e.artistInfo.thumb_url}))},checkBandcampAccount:function(t){this.bandcampUrl="https://bandcamp.com/search?q="+t.toLowerCase()},getLastFMInfo:function(t){var e=this;d.lastLastFMdata&&d.lastLastFMdata.name.toLowerCase()==t.toLowerCase()?(this.lastFMData=d.lastLastFMdata,t=this.lastFMData.name,this.artistBio=this.lastFMData.bio.summary,window.document.title="ConcerTrack - "+this.lastFMData.name):d.getLastFMData(t).then((function(a){if(a.error)throw a.message;e.lastFMData=a.artist,t=e.lastFMData.name,e.artistBio=e.lastFMData.bio.summary,d.lastLastFMdata=e.lastFMData,window.document.title="ConcerTrack - "+e.lastFMData.name}))},callBackForm:function(t,e){var a=this;if("artistSearch"==t){var s=e;d.doesArtistExist(s).then((function(t){t.id&&a.$router.push({path:"/artists/"+s})})).catch((function(t){t.toString().includes("SyntaxError")&&(a.$children[1].errorMessage="Sorry, we couldn't find that artist :(")}))}else if("countrySearch"==t){var i=e;localStorage.setItem("Country",i),this.countrySet=i,this.localEvents=[];for(var n=0,r=this.events.length;n<r;n++){var o=this.events[n];o.venue.country==i&&this.localEvents.push(o)}}},resetCountry:function(){localStorage.removeItem("Country"),this.countrySet=!1},toggleTrackArtist:function(){var t=this,e=this.lastFMData.name;if(this.tracking){this.tracking=!1;var a=this.trackedArtists.indexOf(this.lastFMData.name);if(-1!=a){this.trackedArtists.splice(a,1);var s=localStorage.getItem("trackCode");d.removeTrackedArtist(e,s).then((function(a){console.log(a),t.removedArtist=e})).catch((function(t){console.error(t)}))}}else{this.tracking=!0;for(var i=!1,n=0,r=this.trackedArtists.length;n<r;n++)this.trackedArtists[n].toLowerCase()==e.toLowerCase()&&(i=!0);if(!i){this.trackedArtists.push(e);var o=localStorage.getItem("trackCode");d.trackArtist(e,o).then((function(t){console.log(t)})).catch((function(t){console.error(t)}))}}d.resetSaved()}}},N=V,R=(a("eba9"),a("3d53"),Object(b["a"])(N,P,B,!1,null,"31ba8c7b",null)),H=R.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"output-container"}},[t.removedArtist?a("span",{staticClass:"animated lightSpeedIn",attrs:{id:"undo-notification"},on:{click:t.hideUndo}},[a("p",[t._v(" "+t._s(t.removedArtist)+" removed from tracked artists, "),a("a",{on:{click:t.undoRemove}},[t._v("undo?")])])]):t._e(),a("div",{attrs:{id:"main-content"}},[a("div",{attrs:{id:"not-list-container"}},[a("h1",[t._v("Tracked Artists")]),t.countrySet?a("div",{attrs:{id:"local-events"}},[a("b",[t._v("Showing events in: '"+t._s(t.countrySet)+"'")]),a("br"),a("button",{on:{click:t.resetCountry}},[t._v("Change location")])]):a("div",{attrs:{id:"ask-location"}},[a("p",[t._v(" No location set, do you want to set it now so we can show you events in your country? ")]),a("div",{attrs:{id:"country-tracked-view"}},[a("autocomplete",{attrs:{title:"Select country:",placeholder:"Country name",data:"static/countries.json",callback:"countrySearch",submitText:"Select"}})],1)]),a("div",{attrs:{id:"export-button-container"}},[a("button",{on:{click:t.getExportLink}},[t._v("Get link to export tracked artists")]),a("br"),t.encodedLink?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.encodedLink,expression:"encodedLink"}],attrs:{id:"",name:"",cols:"30",rows:"3"},domProps:{value:t.encodedLink},on:{input:function(e){e.target.composing||(t.encodedLink=e.target.value)}}}):t._e(),a("br"),t.encodedLink?a("p",[t._v("Open this URL in any other browser to share your tracked artists.")]):t._e()]),a("button",{attrs:{id:"all-artists-button"},on:{click:t.showAllTrackedArtists}},[t._v("All Tracked Artists")])]),t.loading?a("div",{attrs:{id:"tracked-artist-events-placeholder"}},[a("div",{staticClass:"message-div"},[t._v(" Loading events... ")])]):t.showEvents&&t.orderedEvents.length?a("div",{staticClass:"scrollable",attrs:{id:"tracked-artist-events-list"}},t._l(t.orderedEvents,(function(e,s){return a("div",{key:s,staticClass:"tracked-artist-event fadeInLeft",class:{animated:t.animate},style:{animationDelay:.1*s+"s"}},[a("img",{staticClass:"artist-image",attrs:{src:e.imageUrl,alt:e.lineup[0]}}),a("div",{staticClass:"event-info-wrapper"},[a("h2",{staticClass:"artist-name"},[a("router-link",{attrs:{to:{path:"artists/"+e.lineup[0]}}},[t._v(" "+t._s(e.lineup[0]))])],1),a("p",{staticClass:"event-date"},[t._v(t._s(e.datetime))]),a("p",{staticClass:"event-city"},[t._v(t._s(e.venue.city))]),a("p",{staticClass:"event-venue"},[t._v(t._s(e.venue.name))]),a("p",{staticClass:"event-combined"},[t._v(t._s(e.venue.city)),a("br"),t._v(t._s(e.venue.name))]),e.ticketUrl?a("a",{staticClass:"event-tickets",attrs:{href:e.ticketUrl}},[t._v("Tickets")]):a("a",{staticClass:"event-tickets",attrs:{href:e.searchUrl}},[t._v("Search for tickets")])])])})),0):a("div",{attrs:{id:"tracked-artist-events-placeholder"}},[t.apiAvailable?a("span",[t.trackedArtists.length?a("span",[t.countrySet?t._e():a("div",{staticClass:"message-div"},[t._v(" Choose a location to see local events. ")]),t.showEvents&&!t.orderedEvents.length&&t.countrySet?a("div",{staticClass:"message-div"},[t._v(" No local events :( ")]):t._e(),t.countrySet&&!t.trackedArtists.length?a("div",{staticClass:"message-div"},[t._v(" No tracked artists. ")]):t._e()]):a("div",{staticClass:"message-div"},[t._v(" No tracked artists. ")])]):a("span",[t.errorMessage?a("div",{staticClass:"message-div error"},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e()])]),a("div",{staticClass:"animated",attrs:{id:"tracked-artist-list-container"}},[a("div",{attrs:{id:"artist-list-header"}},[a("p",[t._v("All tracked artists:")]),t._v(" "),a("i",{staticClass:"fa fa-times",on:{click:t.hideAllTrackedArtists}})]),a("div",{attrs:{id:"tracked-artist-list"}},t._l(t.trackedArtists,(function(e){return a("span",{key:e},[a("i",{staticClass:"fa fa-times",on:{click:function(a){return t.removeFromTracked(e)}}}),a("router-link",{attrs:{to:{path:"artists/"+e}}},[t._v(" "+t._s(e))])],1)})),0)])])])},W=[],Y=(a("e9c4"),a("4e82"),{data:function(){return{animate:!0,apiAvailable:!1,errorMessage:"",events:{},allEvents:[],allLocalEvents:[],countrySet:!1,localEvents:[],showEvents:!1,artistImages:[],encodedLink:"",loading:!0,trackedArtists:[],removedArtist:""}},watch:{$route:function(){}},computed:{orderedEvents:function(){return q.a.orderBy(this.allLocalEvents,(function(t){return new Date(t.datetime)}))}},created:function(){window.document.title="ConcerTrack - Tracked Artists",window.onresize=q.a.debounce((function(){var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",t+"px"),console.log(t)}),400)},mounted:function(){var t=this;if(d.saved.loaded)return this.allLocalEvents=d.saved.allLocalEvents,this.trackedArtists=d.saved.trackedArtists,this.countrySet=d.saved.countrySet||localStorage.getItem("Country")||!1,this.artistImages=d.saved.artistImages,this.loading=!1,this.showEvents=!0,void(this.animate=!1);var e=localStorage.getItem("Country");e&&(this.countrySet=e,d.saved.countrySet=this.countrySet);var a=this.userHasTrackCode();if(!a){var s=d.makeTrackCode();localStorage.setItem("trackCode",s)}this.getTrackedArtists().then((function(e){t.trackedArtists=e,d.saved.trackedArtists=e,t.sortTrackedArtists();for(var a=[],s=0,i=t.trackedArtists.length;s<i;s++){var n=t.trackedArtists[s],r=t.getArtistInfo(n),o=t.getArtistEvents(n);a.push(r),a.push(o)}Promise.all(a).then((function(){t.showLocalEvents(),d.saved.loaded=!0,t.loading=!1,t.apiAvailable=!0})).catch((function(t){console.error("Promise errors",t)}))})).catch((function(e){console.error(e),t.loading=!1,t.apiAvailable=!1,t.errorMessage="Could not retrieve tracked artists."}))},methods:{showAllTrackedArtists:function(){var t=document.getElementById("tracked-artist-list-container");t.style.display="block",t.classList.add("slideInRight"),document.body.style.overflow="hidden",t.addEventListener("animationend",(function(){this.classList.remove("slideInRight"),this.style.display="block"}))},hideAllTrackedArtists:function(){var t=document.getElementById("tracked-artist-list-container");t.classList.add("slideOutRight"),document.body.style.overflow="auto",t.addEventListener("animationend",(function(){this.classList.remove("slideOutRight"),this.style.display="none"}))},getArtistEvents:function(t){var e=this;return new Promise((function(a,s){d.getEvents(t).then((function(s){e.events=s,e.events.forEach((function(a){var s=new Date(a.datetime),i=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];a.datetime="".concat(s.getDate()," ").concat(i[s.getMonth()]," ").concat(s.getFullYear()),a.url?a.ticketUrl=a.url:a.searchUrl="https://duckduckgo.com/?q="+t+" "+a.datetime,a.venue.country==e.countrySet&&(e.localEvents.push(a),e.allLocalEvents.push(a)),e.allEvents.push(a)})),a()})).catch((function(t){s(t)}))}))},getArtistInfo:function(t){var e=this;return new Promise((function(a,s){d.getArtistInfo(t).then((function(a){var s=a.thumb_url;e.artistImages.push({artist:t,url:s})})).then((function(){a()})).catch((function(t){s(t)}))}))},callBackForm:function(t,e){var a=this;if("artistSearch"==t){var s=e;d.doesArtistExist(s).then((function(t){t.id&&a.$router.push({path:"/artists/"+s})})).catch((function(t){t.toString().includes("SyntaxError")&&(a.$children[0].errorMessage="Sorry, we couldn't find that artist :(")}))}else if("countrySearch"==t){var i=e;localStorage.setItem("Country",i),this.countrySet=i,this.localEvents=[];for(var n=0,r=this.events.length;n<r;n++){var o=this.events[n];o.venue.country==i&&this.localEvents.push(o)}this.allLocalEvents=[],this.allEvents=[];for(var c=[],l=0,u=this.trackedArtists.length;l<u;l++){var h=this.trackedArtists[l],v=this.getArtistInfo(h),f=this.getArtistEvents(h);c.push(v),c.push(f)}Promise.all(c).then((function(t){console.log("All promises done",t)})).catch((function(t){console.error("Promise errors",t)}))}},resetCountry:function(){localStorage.removeItem("Country"),this.countrySet=!1,this.showEvents=!1,this.loading=!0},trackArtist:function(){if(this.tracking){this.tracking=!1;var t=this.trackedArtists.indexOf(this.lastFMData.name);-1!=t&&this.trackedArtists.splice(t,1)}else this.tracking=!0,this.trackedArtists.includes(this.lastFMData.name.toLowerCase())||this.trackedArtists.push(this.lastFMData.name.toLowerCase());localStorage.setItem("Tracked",JSON.stringify(this.trackedArtists))},getExportLink:function(){var t=localStorage.getItem("trackCode");this.encodedLink=window.location.origin+"/#/import/"+t},showLocalEvents:function(){for(var t=0,e=this.allLocalEvents.length;t<e;t++)for(var a=this.allLocalEvents[t],s=0,i=this.artistImages.length;s<i;s++){var n=this.artistImages[s];n.artist.toLowerCase()==a.lineup[0].toLowerCase()&&(this.allLocalEvents[t].imageUrl=n.url)}this.showEvents=!0,this.loading=!1,d.saved.allLocalEvents=this.allLocalEvents,d.saved.artistImages=this.artistImages},removeFromTracked:function(t){var e=this,a=this.trackedArtists.indexOf(t);-1!=a&&this.trackedArtists.splice(a,1);var s=localStorage.getItem("trackCode");d.removeTrackedArtist(t,s).then((function(a){console.log(a),e.removedArtist=t})).catch((function(t){console.error(t)}))},undoRemove:function(){for(var t=this,e=!1,a=0,s=this.trackedArtists.length;a<s;a++){var i=this.trackedArtists[a];i.toLowerCase()==this.removedArtist.toLowerCase()&&(e=!0)}if(!e){this.trackedArtists.push(this.removedArtist);var n=localStorage.getItem("trackCode");d.trackArtist(this.removedArtist,n).then((function(t){console.log(t)})).catch((function(t){console.error(t)}))}var r=document.getElementById("undo-notification");r.classList.add("lightSpeedOut");var o=function(){r.classList.remove("lightSpeedOut"),t.removedArtist=""};r.addEventListener("animationend",(function(){o()})),this.sortTrackedArtists()},sortTrackedArtists:function(){this.trackedArtists.sort((function(t,e){return t=t.replace("The ","").toLowerCase(),e=e.replace("The ","").toLowerCase(),t<e?-1:t>e?1:0}))},hideUndo:function(){var t=this,e=document.getElementById("undo-notification");e.classList.add("lightSpeedOut");var a=function(){e.classList.remove("lightSpeedOut"),t.removedArtist=""};e.addEventListener("animationend",(function(){a()}))},userHasTrackCode:function(){var t=localStorage.getItem("Tracked"),e=localStorage.getItem("trackCode");return!(!t&&!e)},getTrackedArtists:function(){var t=localStorage.getItem("trackCode"),e=localStorage.getItem("Tracked");return new Promise((function(a,s){var i=function(t){d.getTrackedArtists(t).then((function(t){a(t)})).catch((function(t){s(t)}))};if(t)return i(t);if(e){var n=JSON.parse(e),r=d.makeTrackCode();d.migrateArtists(r,n.list).then((function(){localStorage.setItem("trackCode",r),location.reload()})).catch((function(){}))}}))}}}),z=Y,Q=(a("e50f"),a("5da2"),Object(b["a"])(z,J,W,!1,null,"759066ff",null)),K=Q.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"search-body"}},[t._m(0),a("div",{attrs:{id:"not-description-wrapper"}},[a("div",{attrs:{id:"not-description"}},[a("autocomplete",{attrs:{title:"Search for events from an artist:",placeholder:"Artist name",data:"static/AllList.json",callback:"artistSearch",submitText:"Search"}}),t._m(1)],1)])])},Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"website-description"}},[a("h2",[t._v(" Find concerts, track artists. No hassle. ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"img-container"}},[a("img",{attrs:{src:"static/map.svg",alt:""}})])}],tt={data:function(){return{}},watch:{$route:function(){}},created:function(){window.document.title="ConcerTrack - Search For an Artist"},mounted:function(){document.getElementById("input-field").focus()},methods:{callBackForm:function(t,e){var a=this;if("artistSearch"==t){var s=e;d.doesArtistExist(s).then((function(t){d.lastArtist=t,t.id&&a.$router.push({path:"/artists/"+s})})).catch((function(t){if(t.toString().includes("SyntaxError"))for(var e=0,i=a.$children.length;e<i;e++){var n=a.$children[e];"autocomplete-container"==n.$el.id&&(n.inputValue=s,n.errorMessage="Sorry, we couldn't find that artist :(")}}))}}}},et=tt,at=(a("6a69"),a("4ede"),Object(b["a"])(et,X,Z,!1,null,"80abfc3e",null)),st=at.exports,it=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"output-container"}},[a("div",{attrs:{id:"output"}},[a("div",{attrs:{id:"left-side"}},[a("img",{attrs:{src:"static/lg.png",alt:""}}),a("div",{attrs:{id:"info-container"}},[a("h1",[t._v("Leon Grasmeijer")]),a("a",{staticClass:"link-icon",attrs:{href:"https://github.com/LeonGr"}},[a("i",{staticClass:"fa fa-github",attrs:{"aria-hidden":"true"}})]),a("a",{staticClass:"link-icon",attrs:{href:"mailto:ConcerTrack@leongr.nl"}},[a("i",{staticClass:"fa fa-envelope-o",attrs:{"aria-hidden":"true"}})]),a("a",{staticClass:"link-icon",attrs:{href:"https://codepen.io/LeonGr/"}},[a("i",{staticClass:"fa fa-codepen",attrs:{"aria-hidden":"true"}})]),a("p",[t._v(" Leon Grasmeijer is the developer of this website, he is studying Computer Science & Engineering at the Eindhoven University of Technology and loves mechanical keyboards and pizza. Read more on his "),a("a",{attrs:{href:"http://leongr.nl"}},[t._v("website")]),t._v(". ")])])])])])}],rt={data:function(){return{}},watch:{},created:function(){window.document.title="ConcerTrack - The Creator"},mounted:function(){},methods:{}},ot=rt,ct=(a("88bd"),Object(b["a"])(ot,it,nt,!1,null,"485aa45b",null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"error-container"}},[a("div",{attrs:{id:"error-message-container"}},[t.errorMessage?a("h1",[t._v("Whoopsie daisy!")]):t._e(),a("p",{domProps:{innerHTML:t._s(t.errorMessage)}}),a("a",{on:{click:t.goBack}},[t._v("Go back to previous page")])])])},dt=[],ht={data:function(){return{errorMessage:"",trackedArtists:{list:[]}}},watch:{$route:function(){console.log("route"),window.location.reload()}},mounted:function(){this.loadImport()},methods:{loadImport:function(){var t=this.$route.params.importCode;localStorage.setItem("trackCode",t),this.$router.push({path:"/tracked"}),alert("Import Successful"),location.reload()},goBack:function(){console.log(this.$router.back())}}},vt=ht,ft=(a("b9ef"),Object(b["a"])(vt,ut,dt,!1,null,"5b306873",null)),mt=ft.exports,gt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},pt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"contact"}},[a("div",{attrs:{id:"contact-body"}},[a("h1",[t._v("Contact")]),a("p",[t._v(" Do you have a question, an idea for improvement or do you just want to thanks us for building this website? "),a("br"),a("br"),t._v(" You can contact us "),a("a",{attrs:{href:"mailto:ConcerTrack@leongr.nl"}},[t._v("here")]),t._v(". ")])])])}],_t={data:function(){return console.log("data"),{}},watch:{$route:function(){console.log("route")}},created:function(){window.document.title="ConcerTrack - Contact"},mounted:function(){},methods:{}},kt=_t,bt=(a("e740"),Object(b["a"])(kt,gt,pt,!1,null,"093504c8",null)),wt=bt.exports,yt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},At=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"disclaimer"}},[a("div",{attrs:{id:"disclaimer-body"}},[a("h1",[t._v("Disclaimer")]),a("p",[t._v(" All information about concerts comes from "),a("a",{attrs:{href:"https://bandsintown.com"}},[t._v("bandsintown.com")]),t._v(". Huge thanks to them and please go to their site for more information, news, reviews and more! ")])])])}],Ct={data:function(){return console.log("data"),{}},watch:{$route:function(){console.log("route")}},created:function(){window.document.title="ConcerTrack - Disclaimer"},mounted:function(){},methods:{}},St=Ct,Lt=(a("8974"),Object(b["a"])(St,yt,At,!1,null,"343ea940",null)),Et=Lt.exports,Mt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"faq"}},[a("div",{attrs:{id:"faq-body"}},[a("h1",[t._v("Frequently Asked Questions:")]),a("div",{staticClass:"question"},[a("h2",[t._v("Why does "),a("i",[t._v("artist_name")]),t._v(" not show up in the autocomplete list?")]),a("p",[t._v("We are trying to get as many artists as possible in our autocomplete function. But sometimes the artist just does not exist in any of the lists we are using. This does not always mean that we don't have info on the artist! You can open an issue ticket at "),a("a",{attrs:{href:"https://github.com/LeonGr/ConcerTrack/issues"}},[t._v("https://github.com/LeonGr/ConcerTrack/issues")]),t._v(" and we'll gladly add them to our list.")])]),a("div",{staticClass:"question"},[a("h2",[t._v("Why does "),a("i",[t._v("artist_name")]),t._v(' show up in the autocomplete list but gives an "artist not found" error?')]),a("p",[t._v("We use data from other services to retrieve the information we display on this site. However, these services do not provide a full list of available artists. Therefore our autocomplete list does not always correspond to the available artists. More specifically: we are using the "),a("a",{attrs:{href:"https://bandsintown.com"}},[t._v("bandsintown")]),t._v(" and "),a("a",{attrs:{href:"https://last.fm"}},[t._v("last.fm")]),t._v(" APIs to get our information. So if they don't have information about the artist, we unfortunately can't provide you with information either.")])]),a("div",{staticClass:"question"},[a("h2",[t._v("This site sucks!")]),a("p",[t._v("That's not a question. However, we are always happy to hear suggestions on how to improve our site! You can open an issue ticket at "),a("a",{attrs:{href:"https://github.com/LeonGr/ConcerTrack/issues"}},[t._v("https://github.com/LeonGr/ConcerTrack/issues")]),t._v(".")])]),a("div",{staticClass:"question"},[a("h2",[t._v("More questions?")]),a("p",[t._v("We can help! Just send us an email and we will try to get back to you as soon as possible: "),a("a",{attrs:{href:"mailto:ConcerTrack@leongr.nl"}},[t._v("click here")]),t._v(".")])])])])}],It={data:function(){return{}},watch:{$route:function(){}},created:function(){window.document.title="ConcerTrack - Frequently Asked Questions"},mounted:function(){},methods:{}},xt=It,$t=(a("17be"),Object(b["a"])(xt,Mt,Tt,!1,null,"4d460863",null)),Ft=$t.exports,Ot=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"privacy"}},[a("div",{attrs:{id:"privacy-body"}},[a("h1",[t._v("Privacy")]),a("p",[t._v(" We respect your privacy and do not collect any identifying information about our users. "),a("br"),t._v(" The artists you track are saved with a random identification code, when you enter our website only this code is sent to our server to retrieve your tracked artists. "),a("br"),t._v(" However, the ConcerTrack website is hosted using "),a("a",{attrs:{href:"https://pages.github.com/"}},[t._v("Github Pages")]),t._v(", and GitHub may collect some personal information, such as the IP addresses of visitors. "),a("br"),a("a",{attrs:{href:"https://docs.github.com/en/free-pro-team@latest/github/site-policy/github-privacy-statement#github-pages"}},[t._v("Github's privacy statement relating to Github Pages")]),t._v(". ")])])])}],jt={data:function(){return console.log("data"),{}},watch:{$route:function(){console.log("route")}},created:function(){window.document.title="ConcerTrack - Privacy"},mounted:function(){},methods:{}},Ut=jt,Pt=(a("9d5a"),Object(b["a"])(Ut,Ot,Dt,!1,null,"2e3d62a6",null)),Bt=Pt.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"newhere"}},[a("div",{attrs:{id:"newhere-body"}},[a("h1",[t._v("New Here?")]),a("h2",[t._v("We can help you find artists to track")]),a("autocomplete",{attrs:{title:"Search for an artist:",placeholder:"Artist name",data:"static/AllList.json",callback:"artistSearch",submitText:"Search"}}),a("h2",[t._v("Added artists:")]),a("div",{attrs:{id:"added-artists"}},t._l(t.addedArtists,(function(e){return a("div",{key:e},[a("p",[t._v(t._s(e.name))]),a("img",{attrs:{src:e.imageUrl,alt:e.name}})])})),0),a("h2",[t._v("Similar to added artists: (click to track)")]),a("div",{attrs:{id:"similar-artists"}},t._l(t.similarArtists,(function(e){return a("div",{key:e},[a("p",[t._v(t._s(e.name))]),a("img",{attrs:{src:e.imageUrl,alt:e.name},on:{click:function(a){return t.getLastFMInfo(e.name)}}})])})),0)],1)])},qt=[],Vt={data:function(){return{addedArtists:[],similarArtists:[]}},watch:{$route:function(){console.log("route")}},created:function(){window.document.title="ConcerTrack - New Here"},mounted:function(){},methods:{callBackForm:function(t,e){var a=this;if("artistSearch"==t){console.log(e);var s=function(t){for(var e=0,s=a.$children.length;e<s;e++){var n=a.$children[e];"autocomplete-container"==n.$el.id&&(console.log(n),n.inputValue=i,n.errorMessage=t)}},i=e.toLowerCase();d.doesArtistExist(i).then((function(){a.getLastFMInfo(i)})).catch((function(t){t.toString().includes("SyntaxError")&&s("Sorry, we couldn't find that artist :(")}))}},getLastFMInfo:function(t){var e=this;d.getLastFMData(t).then((function(t){if(t.error)throw t.message;console.log(t);for(var e={name:t.artist.name,imageUrl:t.artist.image[t.artist.image.length-1]["#text"],similarArtists:[]},a=t.artist.similar.artist,s=0,i=a.length;s<i;s++){var n=a[s],r={name:n.name,imageUrl:n.image[t.artist.image.length-1]["#text"]};e.similarArtists.push(r)}return e})).then((function(t){e.addToAddedArtists(t)}))},addToAddedArtists:function(t){var e=this;console.log(t);for(var a=t.name.toLowerCase(),s=0,i=this.addedArtists.length;s<i;s++){var n=this.addedArtists[s].name.toLowerCase();if(a==n)return void console.log("".concat(a," already added to addedArtists"))}this.addedArtists.push(t),this.addToSimilarArtists(t.similarArtists);var r=function(t){for(var a=0,s=e.similarArtists.length;a<s;a++){var i=e.similarArtists[a].name.toLowerCase();if(t==i)return console.log("".concat(t," already added to similarArtists")),a}return-1},o=r(a);o>-1&&(console.log("should remove ".concat(a," from similarArtists at index ").concat(o)),this.similarArtists.splice(o,1))},addToSimilarArtists:function(t){var e=this;console.log(t);for(var a=function(t){for(var a=0,s=e.similarArtists.length;a<s;a++){var i=e.similarArtists[a].name.toLowerCase();if(t==i)return console.log("".concat(t," already added to similarArtists")),!0}for(var n=0,r=e.addedArtists.length;n<r;n++){var o=e.addedArtists[n].name.toLowerCase();if(t==o)return console.log("".concat(t," already added to addedArtists")),!0}return!1},s=0,i=t.length;s<i;s++){var n=t[s].name.toLowerCase();a(n)||this.similarArtists.push(t[s])}}}},Nt=Vt,Rt=(a("3fb6"),a("f33e"),Object(b["a"])(Nt,Gt,qt,!1,null,"572aea0c",null)),Ht=Rt.exports;s["a"].use(U["a"]);var Jt=new U["a"]({mode:"hash",routes:[{path:"/newhere",component:Ht},{path:"/privacy",component:Bt},{path:"/faq",component:Ft},{path:"/contact",component:wt},{path:"/disclaimer",component:Et},{path:"/import/:importCode",component:mt},{path:"/tracked",component:K},{path:"/artists/Leon Grasmeijer",component:lt},{path:"/artists/Leon%20Grasmeijer",redirect:"/artists/Leon Grasmeijer"},{path:"/artists/:artist",component:H},{path:"/",component:st},{path:"*",redirect:"/"}]}),Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"autocomplete-container"}},[a("form",{attrs:{id:"autocomplete-form"},on:{submit:function(t){t.preventDefault()}}},[a("h1",{attrs:{id:"title"}},[t._v(t._s(t.title))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],attrs:{id:"input-field",type:"text",placeholder:t.placeholder,autocomplete:"off"},domProps:{value:t.inputValue},on:{input:[function(e){e.target.composing||(t.inputValue=e.target.value)},t.inputChanged],focus:t.selectInput}}),a("button",{attrs:{id:"submitButton"},domProps:{innerHTML:t._s(t.submitText)},on:{click:t.submitForm}}),t.showMatching.length?a("ul",{attrs:{id:"search-results"}},t._l(t.showMatching,(function(e,s){return a("li",{key:e,staticClass:"animated fadeIn",style:{animationDelay:.03*s+"s"},on:{click:function(e){return t.clickSearchResult(e)},mouseover:function(e){return t.hoverSearchResult(e)}}},[t._v(t._s(e))])})),0):t._e()]),t.errorMessage?a("h1",{staticClass:"animated lightSpeedIn",attrs:{id:"errorMessage"},on:{click:t.hideError}},[t._v(t._s(t.errorMessage))]):t._e()])},Yt=[],zt=(a("2ca0"),{data:function(){return{inputValue:"",listOfData:[],allMatching:[],startMatching:[],showMatching:[],lastInputLength:0,maxResults:10,selectedSuggestion:null,errorMessage:"",partlyTyped:"",waiting:null}},props:{title:String,placeholder:String,data:String,callback:String,submitText:String},watch:{$route:function(){this.errorMessage=""}},mounted:function(){var t=this,e=function(e){var a=Array.prototype.slice.call(t.$el.children[0].children);"li"!=e.target.localName&&1!=a.indexOf(e.target)&&t.deselectInput()};window.addEventListener("mousedown",(function(t){e(t)}));var a=this.$el.children[0].children[1],s=function(e){"ArrowDown"==e||"Tab"==e?t.selectSuggestion("down"):"ArrowUp"==e?t.selectSuggestion("up"):"Enter"==e&&t.submitSearch()};a.addEventListener("keydown",(function(t){s(t.key);var e=t.key.includes("ArrowUp")||t.key.includes("ArrowDown")||t.key.includes("Tab");e&&t.preventDefault()}))},methods:{selectInput:function(){var t=this;if(!this.listOfData.length){var e=function(){return new Promise((function(e,a){fetch(window.location.origin+"/"+t.data,{method:"GET",headers:{accept:"application/json"}}).then((function(t){return t.json()})).then((function(t){e(t)})).catch((function(t){a(t)}))}))};d.autocompleteList&&d.autocompleteList[this.data]?this.listOfData=d.autocompleteList[this.data]:e().then((function(e){t.listOfData=e,d.autocompleteList[t.data]=t.listOfData}))}},deselectInput:function(){this.showMatching=this.allMatching=this.startMatching=[]},submitSearch:function(){if(null!=this.selectedSuggestion){var t=document.getElementById("search-results"),e=t.children;this.inputValue=e[this.selectedSuggestion].innerText}this.submitForm()},selectSuggestion:function(t){var e=document.getElementById("search-results");if(e){for(var a=e.children,s=0,i=a.length;s<i;s++)a[s].classList.remove("selected");"up"==t?this.selectedSuggestion?(this.selectedSuggestion--,a[this.selectedSuggestion].classList.add("selected")):(this.selectedSuggestion=null,this.inputValue=this.partlyTyped):"down"==t&&(null==this.selectedSuggestion?(this.partlyTyped=this.inputValue,this.selectedSuggestion=0,a[this.selectedSuggestion].classList.add("selected")):this.selectedSuggestion==this.showMatching.length-1?(this.selectedSuggestion=null,this.inputValue=this.partlyTyped):(this.selectedSuggestion++,a[this.selectedSuggestion].classList.add("selected"))),a[this.selectedSuggestion]&&(this.inputValue=a[this.selectedSuggestion].innerText)}},clickSearchResult:function(t){this.inputValue=t.target.innerText,this.submitForm()},hoverSearchResult:function(t){for(var e=document.getElementById("search-results"),a=e.children,s=0,i=a.length;s<i;s++)a[s].classList.remove("selected"),t.target==a[s]&&(this.selectedSuggestion=s,t.target.classList.add("selected"))},inputChanged:function(){function t(t,e){for(var a=t.children,s=0,i=a.length;s<i;s++)if(a[s].localName==e)return a[s]}var e=t(this.$el,"form"),a=t(e,"input"),s=a.value;s&&s!=this.inputValue&&(this.inputValue=s),this.selectedSuggestion=null;var i=1;this.errorMessage="";var n=this.inputValue.toLowerCase();if(n.length>i){if(n.length>this.lastInputLength&&this.allMatching.length>0){this.selectedSuggestion=null;for(var r=[],o=[],c=0,l=this.startMatching.length;c<l;c++)this.startMatching[c].toLowerCase().startsWith(n)&&o.push(this.startMatching[c]);for(var u=0,d=this.allMatching.length;u<d;u++){var h=this.allMatching[u];h.toLowerCase().includes(n)&&!h.startsWith(n)&&r.push(this.allMatching[u])}this.allMatching=r,this.startMatching=o}else{this.allMatching=[],this.startMatching=[];for(var v=0,f=this.listOfData.length;v<f;v++){var m=this.listOfData[v];m.toLowerCase().startsWith(n)?this.startMatching.push(m):m.toLowerCase().includes(n)&&!m.startsWith(n)&&this.allMatching.push(m)}}this.showMatching=[];for(var g=this.maxResults,p=0,_=g;p<_;p++)p<this.startMatching.length&&this.showMatching.push(this.startMatching[p]);if(this.showMatching.length<g)for(var k=g-this.showMatching.length,b=0,w=k;b<w;b++)b<this.allMatching.length&&this.showMatching.push(this.allMatching[b])}else this.allMatching=this.startMatching=this.showMatching=[];this.lastInputLength=this.inputValue.length},submitForm:function(){this.inputValue&&(this.showMatching=this.allMatching=this.startMatching=[],this.$parent.callBackForm(this.callback,this.inputValue),this.inputValue="")},hideError:function(){var t=this,e=document.getElementById("errorMessage");e.classList.add("lightSpeedOut");var a=function(){e.classList.remove("lightSpeedOut"),t.errorMessage=""};e.addEventListener("animationend",(function(){a()}))}}}),Qt=zt,Kt=Object(b["a"])(Qt,Wt,Yt,!1,null,null,null),Xt=Kt.exports;s["a"].config.productionTip=!1,s["a"].component("autocomplete",Xt),new s["a"]({el:"#app",router:Jt,template:"<App/>",components:{App:j}})},"587f":function(t,e,a){},"5a01":function(t,e,a){},"5da2":function(t,e,a){"use strict";a("f1e7")},"602e":function(t,e,a){},6294:function(t,e,a){"use strict";a("437c")},"6a69":function(t,e,a){"use strict";a("f867")},"78b8":function(t,e,a){},"7b7c":function(t,e,a){},"88bd":function(t,e,a){"use strict";a("c603")},8974:function(t,e,a){"use strict";a("587f")},9475:function(t,e,a){},"99e7":function(t,e,a){"use strict";a("7b7c")},"9d5a":function(t,e,a){"use strict";a("5a01")},ab5f:function(t,e,a){},b4a2:function(t,e,a){},b599:function(t,e,a){},b9ef:function(t,e,a){"use strict";a("0008")},c129:function(t,e,a){},c603:function(t,e,a){},c9bb:function(t,e,a){},e50f:function(t,e,a){"use strict";a("c9bb")},e740:function(t,e,a){"use strict";a("ab5f")},eba9:function(t,e,a){"use strict";a("c129")},f1e7:function(t,e,a){},f33e:function(t,e,a){"use strict";a("9475")},f867:function(t,e,a){}});
//# sourceMappingURL=app.6a3a7734.js.map