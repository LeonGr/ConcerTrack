webpackJsonp([1],{"+jsb":function(t,e){},"08AM":function(t,e){},"3gKp":function(t,e){},"4IqA":function(t,e){},"5P+P":function(t,e){},"7AGW":function(t,e){},"88TN":function(t,e){},"9f9u":function(t,e){},DgIR:function(t,e){},FgZq:function(t,e){},HZLC:function(t,e){},IVZR:function(t,e){},IYfr:function(t,e){},NHnr:function(t,e,s){"use strict";function a(t){s("7AGW"),s("ULau")}function i(t){s("nhGC")}function n(t){s("3gKp")}function r(t){s("DgIR")}function o(t){s("PcXT"),s("zLpM")}function c(t){s("9f9u"),s("5P+P")}function l(t){s("IVZR"),s("+jsb")}function d(t){s("OsbY")}function u(t){s("HZLC"),s("RFME")}function h(t){s("IYfr"),s("kRZB")}function v(t){s("FgZq"),s("vdqY")}function f(t){s("NKZz"),s("4IqA")}function m(t){s("Pvsk"),s("08AM")}function g(t){s("88TN"),s("c7ah")}Object.defineProperty(e,"__esModule",{value:!0});var p=s("7+uW"),_=s("//Fk"),k=s.n(_),w={},y=w;w.doesArtistExist=function(t){if("leon grasmeijer"==t.toLowerCase())return void this.$router.push({path:"/artists/Leon Grasmeijer"});t=t.replace("'","");document.getElementById("output");return new k.a(function(e,s){fetch("https://rest.bandsintown.com/artists/"+t+"?app_id=ConcerTrack v0.0.1",{method:"GET",headers:{accept:"application/json"}}).then(function(t){return t.json()}).then(function(t){e(t)}).catch(function(t){s(t)})})},w.getEvents=function(t){return t=t.replace("'",""),new k.a(function(e,s){fetch("https://rest.bandsintown.com/artists/"+t+"/events?app_id=ConcerTrack v0.0.1",{method:"GET",headers:{accept:"application/json"}}).then(function(t){return t.json()}).then(function(t){e(t)}).catch(function(t){console.log(t)})})},w.getArtistInfo=function(t){return t=t.replace("'",""),new k.a(function(e,s){fetch("https://rest.bandsintown.com/artists/"+t+"?app_id=ConcerTrack v0.0.1",{method:"GET",headers:{accept:"application/json"}}).then(function(t){return t.json()}).then(function(t){e(t)}).catch(function(t){console.log(t)})})},w.getLastFMData=function(t){var e=encodeURIComponent(t);return new k.a(function(t,s){fetch("https://ws.audioscrobbler.com/2.0/?method=artist.getinfo&api_key=a4629fdacfd93267704f599b874a59bf&format=json&artist="+e,{method:"GET",headers:{accept:"application/json"}}).then(function(t){return t.json()}).then(function(e){t(e)}).catch(function(t){console.log(t)})})},w.saved={loaded:!1,allLocalEvents:[],trackedArtists:{list:[]},countrySet:!1,artistImages:[]},w.resetSaved=function(){w.saved={loaded:!1,allLocalEvents:[],trackedArtists:{list:[]},countrySet:!1,artistImages:[]}},w.lastArtist,w.lastArtistEvents,w.lastArtistEventsLocal,w.lastLastFMdata,w.autocompleteList={};var b={data:function(){return{hideSearchElements:!1,showSearchMobile:!1,showTrackedLink:!0}},mounted:function(){this.hideOrShowSearchElements()},watch:{$route:function(){this.hideOrShowSearchElements(),this.showSearchMobile=!1}},methods:{scrollTop:function(){for(var t=document.getElementsByClassName("scrollable"),e=0,s=t.length;e<s;e++)t[e].scrollTop=0},showSearch:function(){var t=this;if(this.showSearchMobile){console.log("test");var e=document.getElementById("search-mobile");e.classList.add("slideOutUp");var s=function(){e.classList.remove("slideOutUp"),t.showSearchMobile=!1};e.addEventListener("animationend",function(){s()})}else document.getElementById("input-field").focus(),this.showSearchMobile=!0},hideOrShowSearchElements:function(){var t=this.$route.path;t=t.split("/").pop(),this.hideSearchElements=!t,this.showTrackedLink="tracked"!=t},callBackForm:function(t,e){var s=this;if("artistSearch"==t){var a=e;y.doesArtistExist(a).then(function(t){s.showSearchMobile=!1,y.lastArtist=t,t.id&&s.$router.push({path:"/artists/"+a})}).catch(function(t){if(t.toString().includes("SyntaxError"))for(var e=0,i=s.$children.length;e<i;e++){var n=s.$children[e];"autocomplete-container"==n.$el.id&&(n.inputValue=a,n.errorMessage="Sorry, we couldn't find that artist :(")}})}}}},A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{on:{click:t.scrollTop}},[s("div",{attrs:{id:"test"}},[t._v("Â ")]),t._v(" "),s("router-link",{attrs:{to:"/",id:"header-title-link"}},[s("h2",[t._v("ConcerTrack")])]),t._v(" "),t.showTrackedLink?s("router-link",{attrs:{to:"/tracked",id:"tracked-link"}},[s("p",[t._v("Tracked Artists")])]):t._e(),t._v(" "),t.hideSearchElements?t._e():s("div",{attrs:{id:"search-tracked-view"}},[s("autocomplete",{attrs:{title:"",placeholder:"Search for an artist",data:"static/AllList.json",callback:"artistSearch",submitText:"<i class='fa fa-search' aria-hidden='true'></i>"}})],1),t._v(" "),t.showSearchMobile?s("div",{staticClass:"animated slideInDown",attrs:{id:"search-mobile"}},[s("div",{attrs:{id:"search-mobile-close"},on:{click:t.showSearch}},[s("i",{staticClass:"fa fa-times"})]),t._v(" "),s("autocomplete",{attrs:{title:"",placeholder:"Search for an artist",data:"static/AllList.json",callback:"artistSearch",submitText:"<i class='fa fa-search' aria-hidden='true'></i>"}})],1):t._e(),t._v(" "),t.hideSearchElements?t._e():s("div",{attrs:{id:"search-icon"},on:{click:t.showSearch}},[t._v("\n        Search\n        "),s("i",{staticClass:"fa fa-search"})]),t._v(" "),s("span",{staticClass:"square"}),t._v(" "),s("span",{staticClass:"square"}),t._v(" "),s("span",{staticClass:"square"}),t._v(" "),s("span",{staticClass:"square"}),t._v(" "),s("span",{staticClass:"square"})],1)},C=[],S={render:A,staticRenderFns:C},L=S,E=s("VU/8"),M=a,T=E(b,L,!1,M,null,null),I=T.exports,F=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default")],2)},x=[],U={render:F,staticRenderFns:x},D=U,$=s("VU/8"),R=i,V=$(null,D,!1,R,"data-v-6c195c2a",null),B=V.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("span",{staticClass:"square"}),t._v(" "),s("span",{staticClass:"square"}),t._v(" "),s("span",{staticClass:"square"}),t._v(" "),s("span",{staticClass:"square"}),t._v(" "),s("span",{staticClass:"square"}),t._v(" "),s("div",{attrs:{id:"info-wrapper"}},[t._m(0),t._v(" "),s("div",{attrs:{id:"links"}},[s("router-link",{staticClass:"footer-link",attrs:{to:"/contact"}},[s("p",[t._v("Contact")])]),t._v(" "),s("router-link",{staticClass:"footer-link",attrs:{to:"/faq"}},[s("p",[t._v("FAQ")])]),t._v(" "),s("router-link",{staticClass:"footer-link",attrs:{to:"/disclaimer"}},[s("p",[t._v("Disclaimer")])]),t._v(" "),s("router-link",{staticClass:"footer-link",attrs:{to:"/privacy"}},[s("p",[t._v("Privacy")])])],1)])])},j=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{attrs:{id:"footer-disclaimer"}},[t._v("\n             Made possible by "),s("a",{attrs:{href:"https://bandsintown.com"}},[t._v("Bandsintown")]),t._v("."),s("br")])}],O={render:q,staticRenderFns:j},G=O,N=s("VU/8"),P=n,W=N(null,G,!1,P,"data-v-c4f3cd84",null),H=W.exports,J={data:function(){return{}},components:{SiteHeader:I,SiteBody:B,SiteFooter:H}},Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("site-header"),t._v(" "),s("site-body",[s("router-view")],1),t._v(" "),s("site-footer")],1)},Z=[],z={render:Y,staticRenderFns:Z},X=z,Q=s("VU/8"),K=r,tt=Q(J,X,!1,K,null,null),et=tt.exports,st=s("/ocq"),at=s("mvHQ"),it=s.n(at),nt=s("M4fF"),rt=s.n(nt),ot={data:function(){return{artist:"",artistInfo:{},bandcampUrl:"",events:[],lastFMData:{},artistBio:"",onTour:!1,imageUrl:"",countrySet:!1,localEvents:[],tracking:!1,trackedArtists:{list:[]},showAllLocal:!1,showAllGlobal:!1}},watch:{$route:function(){this.localEvents=[],this.getAllInformation(),this.getTrackedArtists()}},computed:{firstFiveLocal:function(){return rt.a.slice(this.localEvents,0,5)},firstFiveGlobal:function(){return rt.a.slice(this.events,0,5)}},created:function(){document.body.style.overflow="auto",this.getAllInformation(),this.getTrackedArtists()},mounted:function(){var t=localStorage.getItem("Country");t&&(this.countrySet=t)},methods:{toggleMoreLessGlobal:function(){var t=document.getElementById("event-list"),e=t.scrollTop;this.showAllGlobal=!this.showAllGlobal,setTimeout(function(){t.scrollTop=e},1)},toggleMoreLessLocal:function(){var t=document.getElementById("local-events-list"),e=t.scrollTop;this.showAllLocal=!this.showAllLocal,setTimeout(function(){t.scrollTop=e},1)},getTrackedArtists:function(){var t=JSON.parse(localStorage.getItem("Tracked"));t&&(this.trackedArtists=t),this.tracking=!1;for(var e=0,s=this.trackedArtists.list.length;e<s;e++){this.trackedArtists.list[e].toLowerCase()==this.$route.params.artist.toLowerCase()&&(this.tracking=!0)}},getAllInformation:function(){this.getArtistEvents(),this.checkBandcampAccount(),this.getLastFMInfo()},getArtistEvents:function(){var t=this;this.artist=this.$route.params.artist,y.lastArtistEvents&&y.lastArtistEvents.name.toLowerCase()==this.artist.toLowerCase()?(this.events=y.lastArtistEvents.events,this.localEvents=y.lastArtistEventsLocal.events):y.getEvents(this.artist).then(function(e){t.events=e,t.events.forEach(function(s){var a=new Date(s.datetime),i=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];s.datetime=a.getDate()+" "+i[a.getMonth()],s.url?s.ticketUrl=s.url:s.searchUrl="https://duckduckgo.com/?q="+e.artist+" "+s.datetime,s.venue.country==t.countrySet&&t.localEvents.push(s)}),y.lastArtistEvents={events:t.events,name:t.artist},y.lastArtistEventsLocal={events:t.localEvents}}),y.lastArtist&&y.lastArtist.name.toLowerCase()==this.artist.toLowerCase()?this.artistInfo=y.lastArtist:y.getArtistInfo(this.artist).then(function(e){t.artistInfo=e,y.lastArtist=e})},checkBandcampAccount:function(){this.bandcampUrl="https://bandcamp.com/search?q="+this.artist.toLowerCase()},getLastFMInfo:function(){var t=this;y.lastLastFMdata&&y.lastLastFMdata.name.toLowerCase()==this.artist.toLowerCase()?(this.lastFMData=y.lastLastFMdata,this.artist=this.lastFMData.name,this.artistBio=this.lastFMData.bio.summary,this.imageUrl=this.lastFMData.image[this.lastFMData.image.length-1]["#text"]||this.artistInfo.image_url,window.document.title="ConcerTrack - "+this.lastFMData.name):y.getLastFMData(this.artist).then(function(e){if(e.error)throw e.message;t.lastFMData=e.artist,t.artist=t.lastFMData.name,t.artistBio=t.lastFMData.bio.summary,t.imageUrl=t.lastFMData.image[t.lastFMData.image.length-1]["#text"]||t.artistInfo.image_url,y.lastLastFMdata=t.lastFMData,window.document.title="ConcerTrack - "+t.lastFMData.name})},callBackForm:function(t,e){var s=this;if("artistSearch"==t){var a=e;y.doesArtistExist(a).then(function(t){t.id&&s.$router.push({path:"/artists/"+a})}).catch(function(t){t.toString().includes("SyntaxError")&&(s.$children[1].errorMessage="Sorry, we couldn't find that artist :(")})}else if("countrySearch"==t){var i=e;localStorage.setItem("Country",i),this.countrySet=i,this.localEvents=[];for(var n=0,r=this.events.length;n<r;n++){var o=this.events[n];o.venue.country==i&&this.localEvents.push(o)}}},resetCountry:function(){localStorage.removeItem("Country"),this.countrySet=!1},trackArtist:function(){if(this.tracking){this.tracking=!1;var t=this.trackedArtists.list.indexOf(this.lastFMData.name);-1!=t&&this.trackedArtists.list.splice(t,1)}else{this.tracking=!0;for(var e=!1,s=0,a=this.trackedArtists.list.length;s<a;s++){this.trackedArtists.list[s].toLowerCase()==this.lastFMData.name.toLowerCase()&&(e=!0)}e||this.trackedArtists.list.push(this.lastFMData.name)}localStorage.setItem("Tracked",it()(this.trackedArtists)),y.resetSaved()}}},ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"output-container"}},[s("div",{attrs:{id:"output"}},[s("div",{attrs:{id:"left-side"}},[t.imageUrl?s("img",{attrs:{src:t.imageUrl,alt:t.lastFMData.name,id:"artist-image"}}):t._e(),t._v(" "),s("div",{attrs:{id:"img-container"}},[t.imageUrl?s("img",{attrs:{src:t.imageUrl,alt:"",id:"artist-image-mobile"}}):t._e()]),t._v(" "),s("div",{attrs:{id:"info-container"}},[s("div",{attrs:{id:"info-wrapper"}},[s("h1",[t._v(t._s(t.lastFMData.name))]),t._v(" "),t.artistInfo.facebook_page_url?s("a",{staticClass:"link-icon",attrs:{href:t.artistInfo.facebook_page_url}},[s("i",{staticClass:"fa fa-facebook-official",attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),t.bandcampUrl?s("a",{staticClass:"link-icon",attrs:{href:t.bandcampUrl}},[s("i",{staticClass:"fa fa-bandcamp",attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),t.lastFMData.url?s("a",{staticClass:"link-icon",attrs:{href:t.lastFMData.url}},[s("i",{staticClass:"fa fa-lastfm-square",attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),t.lastFMData?s("p",{attrs:{id:"normal-bio"},domProps:{innerHTML:t._s(t.artistBio)}},[t._v("\n                        "+t._s(t.artistBio)+"\n                    ")]):t._e(),t._v(" "),t.tracking?s("button",{staticClass:"mobile-button",attrs:{id:"track-button-tracked"},on:{click:t.trackArtist}},[t._v("Stop Tracking")]):s("button",{staticClass:"mobile-button",attrs:{id:"track-button"},on:{click:t.trackArtist}},[t._v("Track Artist")])])]),t._v(" "),t.tracking?s("button",{staticClass:"normal-button",attrs:{id:"track-button-tracked"},on:{click:t.trackArtist}},[t._v("Stop Tracking")]):s("button",{staticClass:"normal-button",attrs:{id:"track-button"},on:{click:t.trackArtist}},[t._v("Track Artist")]),t._v(" "),t.lastFMData?s("p",{attrs:{id:"mobile-bio"},domProps:{innerHTML:t._s(t.artistBio)}},[t._v("\n                "+t._s(t.artistBio)+"\n            ")]):t._e()]),t._v(" "),s("div",{attrs:{id:"right-side"}},[s("div",{attrs:{id:"local-event-container"}},[s("h1",[t._v("Local events:")]),t._v(" "),t.countrySet?s("div",{attrs:{id:"local-events"}},[s("button",{attrs:{id:"change-location-button"},on:{click:t.resetCountry}},[t._v("Change location")]),t._v(" "),t.localEvents.length?s("p",{staticClass:"amount-upcoming"},[t._v("\n                        "+t._s(t.localEvents.length)+" upcoming events in country '"+t._s(t.countrySet)+"':\n                    ")]):t._e(),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t.localEvents.length&&t.showAllLocal?s("div",{staticClass:"event-list",attrs:{id:"local-events-list"}},[t._l(t.localEvents,function(e){return s("div",{key:e.datetime,staticClass:"event-div"},[s("p",{staticClass:"event-date"},[t._v(t._s(e.datetime))]),t._v(" "),s("p",{staticClass:"event-venue"},[t._v(t._s(e.venue.name))]),t._v(" "),s("p",{staticClass:"event-city"},[t._v(t._s(e.venue.city))]),t._v(" "),s("p",{staticClass:"event-venue-location"},[t._v("\n                                "+t._s(e.venue.name)+"\n                                "),s("br"),t._v("\n                                "+t._s(e.venue.city)+"\n                            ")]),t._v(" "),e.ticketUrl?s("a",{attrs:{href:e.ticketUrl}},[t._v("Tickets")]):s("a",{attrs:{href:e.searchUrl}},[t._v("Search tickets")])])}),t._v(" "),t.localEvents.length>5?s("button",{staticClass:"show-more-less-button",on:{click:t.toggleMoreLessLocal}},[t._v("Show Less")]):t._e()],2):t._e(),t._v(" "),t.localEvents.length&&!t.showAllLocal?s("div",{staticClass:"event-list",attrs:{id:"local-events-list"}},[t._l(t.firstFiveLocal,function(e){return s("div",{key:e.datetime,staticClass:"event-div"},[s("p",{staticClass:"event-date"},[t._v(t._s(e.datetime))]),t._v(" "),s("p",{staticClass:"event-venue"},[t._v(t._s(e.venue.name))]),t._v(" "),s("p",{staticClass:"event-city"},[t._v(t._s(e.venue.city))]),t._v(" "),s("p",{staticClass:"event-venue-location"},[t._v("\n                                "+t._s(e.venue.name)+"\n                                "),s("br"),t._v("\n                                "+t._s(e.venue.city)+"\n                            ")]),t._v(" "),e.ticketUrl?s("a",{attrs:{href:e.ticketUrl}},[t._v("Tickets")]):s("a",{attrs:{href:e.searchUrl}},[t._v("Search tickets")])])}),t._v(" "),t.localEvents.length>5?s("button",{staticClass:"show-more-less-button",on:{click:t.toggleMoreLessLocal}},[t._v("Show More")]):t._e()],2):t._e(),t._v(" "),t.localEvents.length?t._e():s("div",{staticStyle:{"margin-top":"5px"}},[t._v("No local upcoming events :(")])]):s("div",{attrs:{id:"ask-location"}},[s("p",[t._v("\n                        No location set, do you want to set it now so we can show you events in your country?\n                    ")]),t._v(" "),s("div",{attrs:{id:"country-artist-view"}},[s("autocomplete",{attrs:{title:"Select country:",placeholder:"Country name",data:"static/countries.json",callback:"countrySearch",submitText:"Select"}})],1)])]),t._v(" "),s("div",{attrs:{id:"event-container"}},[s("h1",[t._v("Global events:")]),t._v(" "),t.events.length?s("p",{staticClass:"amount-upcoming"},[t._v("\n                    "+t._s(t.artistInfo.upcoming_event_count)+" upcoming events worldwide:\n                ")]):t._e(),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t.events.length&&!t.showAllGlobal?s("div",{staticClass:"event-list",attrs:{id:"event-list"}},[t._l(t.firstFiveGlobal,function(e){return s("div",{staticClass:"event-div"},[s("p",{staticClass:"event-date"},[t._v(t._s(e.datetime))]),t._v(" "),s("p",{staticClass:"event-venue"},[t._v(t._s(e.venue.name))]),t._v(" "),s("p",{staticClass:"event-city"},[t._v(t._s(e.venue.city)+", "+t._s(e.venue.country))]),t._v(" "),s("p",{staticClass:"event-venue-location"},[t._v("\n                            "+t._s(e.venue.name)+"\n                            "),s("br"),t._v("\n                            "+t._s(e.venue.city)+", "+t._s(e.venue.country)+"\n                        ")]),t._v(" "),e.ticketUrl?s("a",{attrs:{href:e.ticketUrl}},[t._v("Tickets")]):s("a",{attrs:{href:e.searchUrl}},[t._v("Search tickets")])])}),t._v(" "),t.events.length>5?s("button",{staticClass:"show-more-less-button",on:{click:t.toggleMoreLessGlobal}},[t._v("Show More")]):t._e()],2):t._e(),t._v(" "),t.events.length&&t.showAllGlobal?s("div",{staticClass:"event-list",attrs:{id:"event-list"}},[t._l(t.events,function(e){return s("div",{staticClass:"event-div"},[s("p",{staticClass:"event-date"},[t._v(t._s(e.datetime))]),t._v(" "),s("p",{staticClass:"event-venue"},[t._v(t._s(e.venue.name))]),t._v(" "),s("p",{staticClass:"event-city"},[t._v(t._s(e.venue.city)+", "+t._s(e.venue.country))]),t._v(" "),s("p",{staticClass:"event-venue-location"},[t._v("\n                            "+t._s(e.venue.name)+"\n                            "),s("br"),t._v("\n                            "+t._s(e.venue.city)+", "+t._s(e.venue.country)+"\n                        ")]),t._v(" "),e.ticketUrl?s("a",{attrs:{href:e.ticketUrl}},[t._v("Tickets")]):s("a",{attrs:{href:e.searchUrl}},[t._v("Search tickets")])])}),t._v(" "),t.events.length>5?s("button",{staticClass:"show-more-less-button",on:{click:t.toggleMoreLessGlobal}},[t._v("Show Less")]):t._e()],2):t._e(),t._v(" "),t.events.length?t._e():s("div",{staticStyle:{"margin-top":"5px"}},[t._v("No global upcoming events :(")])])])])])},lt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-header"},[s("p",[t._v("Date")]),s("p",[t._v("Venue")]),s("p",[t._v("Location")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-header-mobile"},[s("p",[t._v("Date")]),t._v(" "),s("p",[t._v("Venue/Location")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-header"},[s("p",[t._v("Date")]),t._v(" "),s("p",[t._v("Venue")]),t._v(" "),s("p",[t._v("Location")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-header-mobile"},[s("p",[t._v("Date")]),t._v(" "),s("p",[t._v("Venue/Location")])])}],dt={render:ct,staticRenderFns:lt},ut=dt,ht=s("VU/8"),vt=o,ft=ht(ot,ut,!1,vt,"data-v-c64b1008",null),mt=ft.exports,gt={data:function(){return{events:{},allEvents:[],allLocalEvents:[],countrySet:!1,localEvents:[],showEvents:!1,showAllEvents:!1,artistImages:[],encodedLink:"",loading:!0,lastFMlast:!1,BITlast:!1,startTime:0,trackedArtists:{list:[]},removedArtist:"",shortUrl:""}},watch:{$route:function(){}},computed:{orderedEvents:function(){return rt.a.orderBy(this.allLocalEvents,function(t){return new Date(t.datetime)})}},created:function(){window.document.title="ConcerTrack - Tracked Artists"},mounted:function(){if(y.saved.loaded)return this.allLocalEvents=y.saved.allLocalEvents,this.trackedArtists=y.saved.trackedArtists,this.countrySet=y.saved.countrySet||localStorage.getItem("Country")||!1,this.artistImages=y.saved.artistImages,this.loading=!1,void(this.showEvents=!0);this.startTime=new Date;var t=localStorage.getItem("Tracked");t?(this.trackedArtists=JSON.parse(t),y.saved.trackedArtists=this.trackedArtists):this.loading=!1,this.sortTrackedArtists();var e=localStorage.getItem("Country");if(e){this.countrySet=e,y.saved.countrySet=this.countrySet;for(var s=0,a=this.trackedArtists.list.length;s<a;s++){var i=this.trackedArtists.list[s];this.getLastFMInfo(i),this.getArtistEvents(i)}y.saved.loaded=!0}},methods:{showAllTrackedArtists:function(){var t=document.getElementById("tracked-artist-list-container");t.style.display="block",t.classList.add("slideInRight"),document.body.style.overflow="hidden";t.addEventListener("animationend",function(){this.classList.remove("slideInRight"),this.style.display="block"})},hideAllTrackedArtists:function(){var t=document.getElementById("tracked-artist-list-container");t.classList.add("slideOutRight"),document.body.style.overflow="auto";t.addEventListener("animationend",function(){this.classList.remove("slideOutRight"),this.style.display="none"})},getArtistEvents:function(t){var e=this;y.getEvents(t).then(function(s){e.events=s,e.events.forEach(function(s){var a=new Date(s.datetime),i=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];s.datetime=a.getDate()+" "+i[a.getMonth()]+" "+a.getFullYear(),s.url?s.ticketUrl=s.url:s.searchUrl="https://duckduckgo.com/?q="+t+" "+s.datetime,s.venue.country==e.countrySet&&(e.localEvents.push(s),e.allLocalEvents.push(s)),e.allEvents.push(s)})}).then(function(){if(t==e.trackedArtists.list[e.trackedArtists.list.length-1]){if(e.BITlast=!0,!e.lastFMlast)return;e.showLocalEvents()}})},getLastFMInfo:function(t){var e=this;y.getLastFMData(t).then(function(s){if(s.error)throw s.message;var a=s.artist.image[s.artist.image.length-4]["#text"];e.artistImages.push({artist:t,url:a})}).then(function(){if(t==e.trackedArtists.list[e.trackedArtists.list.length-1]){if(e.lastFMlast=!0,!e.BITlast)return;e.showLocalEvents()}})},callBackForm:function(t,e){var s=this;if("artistSearch"==t){var a=e;y.doesArtistExist(a).then(function(t){t.id&&s.$router.push({path:"/artists/"+a})}).catch(function(t){t.toString().includes("SyntaxError")&&(s.$children[0].errorMessage="Sorry, we couldn't find that artist :(")})}else if("countrySearch"==t){var i=e;localStorage.setItem("Country",i),this.countrySet=i,this.localEvents=[];for(var n=0,r=this.events.length;n<r;n++){var o=this.events[n];o.venue.country==i&&this.localEvents.push(o)}this.allLocalEvents=[],this.allEvents=[],this.startTime=new Date;for(var c=0,l=this.trackedArtists.list.length;c<l;c++){var d=this.trackedArtists.list[c];this.getLastFMInfo(d),this.getArtistEvents(d)}}},resetCountry:function(){localStorage.removeItem("Country"),this.countrySet=!1,this.showEvents=!1,this.loading=!0},trackArtist:function(){if(this.tracking){this.tracking=!1;var t=this.trackedArtists.list.indexOf(this.lastFMData.name);-1!=t&&this.trackedArtists.list.splice(t,1)}else this.tracking=!0,this.trackedArtists.list.includes(this.lastFMData.name.toLowerCase())||this.trackedArtists.list.push(this.lastFMData.name.toLowerCase());localStorage.setItem("Tracked",it()(this.trackedArtists))},getExportLink:function(){var t=this,e=btoa(it()({list:this.trackedArtists.list}));e=e.split("=").shift(),this.encodedLink=window.location.origin+"/import/"+e,fetch("https://www.googleapis.com/urlshortener/v1/url?key=AIzaSyBNloeeEkS5UZofgsHxbcA-P7gq8XRffMQ",{method:"POST",headers:{"Content-Type":"application/json",accept:"application/json"},body:it()({longUrl:this.encodedLink})}).then(function(t){return t.json()}).then(function(e){t.shortUrl=e.id})},showLocalEvents:function(){var t=this,e=new Date,s=e.getTime()-this.startTime.getTime();setTimeout(function(){for(var e=0,s=t.allLocalEvents.length;e<s;e++)for(var a=t.allLocalEvents[e],i=0,n=t.artistImages.length;i<n;i++){var r=t.artistImages[i];r.artist.toLowerCase()==a.lineup[0].toLowerCase()&&(t.allLocalEvents[e].imageUrl=r.url)}t.showEvents=!0,t.loading=!1},s/10),y.saved.allLocalEvents=this.allLocalEvents,y.saved.artistImages=this.artistImages},removeFromTracked:function(t){var e=this.trackedArtists.list.indexOf(t);-1!=e&&this.trackedArtists.list.splice(e,1),localStorage.setItem("Tracked",it()(this.trackedArtists)),this.removedArtist=t},undoRemove:function(){for(var t=this,e=!1,s=0,a=this.trackedArtists.list.length;s<a;s++){this.trackedArtists.list[s].toLowerCase()==this.removedArtist.toLowerCase()&&(e=!0)}e||this.trackedArtists.list.push(this.removedArtist),localStorage.setItem("Tracked",it()(this.trackedArtists));var i=document.getElementById("undo-notification");i.classList.add("lightSpeedOut");var n=function(){i.classList.remove("lightSpeedOut"),t.removedArtist=""};i.addEventListener("animationend",function(){n()}),this.sortTrackedArtists()},sortTrackedArtists:function(){this.trackedArtists.list.sort(function(t,e){return t=t.replace("The ","").toLowerCase(),e=e.replace("The ","").toLowerCase(),t<e?-1:t>e?1:0})},hideUndo:function(){var t=this,e=document.getElementById("undo-notification");e.classList.add("lightSpeedOut");var s=function(){e.classList.remove("lightSpeedOut"),t.removedArtist=""};e.addEventListener("animationend",function(){s()})}}},pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"output-container"}},[t.removedArtist?s("span",{staticClass:"animated lightSpeedIn",attrs:{id:"undo-notification"},on:{click:t.hideUndo}},[s("p",[t._v("\n        "+t._s(t.removedArtist)+" removed from tracked artists, "),s("a",{on:{click:t.undoRemove}},[t._v("undo?")])])]):t._e(),t._v(" "),s("div",{attrs:{id:"main-content"}},[s("div",{attrs:{id:"not-list-container"}},[s("h1",[t._v("Tracked Artists")]),t._v(" "),t.countrySet?s("div",{attrs:{id:"local-events"}},[s("b",[t._v("Showing events in: '"+t._s(t.countrySet)+"'")]),t._v(" "),s("br"),t._v(" "),s("button",{on:{click:t.resetCountry}},[t._v("Change location")])]):s("div",{attrs:{id:"ask-location"}},[s("p",[t._v("\n                    No location set, do you want to set it now so we can show you events in your country?\n                ")]),t._v(" "),s("div",{attrs:{id:"country-tracked-view"}},[s("autocomplete",{attrs:{title:"Select country:",placeholder:"Country name",data:"static/countries.json",callback:"countrySearch",submitText:"Select"}})],1)]),t._v(" "),s("div",{attrs:{id:"export-button-container"}},[s("button",{on:{click:t.getExportLink}},[t._v("Get link to export tracked artists")]),t._v(" "),s("br"),t._v(" "),t.shortUrl?s("textarea",{attrs:{id:"",name:"",cols:"30",rows:"10"}},[t._v(t._s(t.shortUrl))]):t._e(),t._v(" "),s("br"),t._v(" "),t.shortUrl?s("p",[t._v("Open this URL in any other browser to share your tracked artists.")]):t._e()]),t._v(" "),s("button",{attrs:{id:"all-artists-button"},on:{click:t.showAllTrackedArtists}},[t._v("All Tracked Artists")])]),t._v(" "),s("div",{staticClass:"scrollable",attrs:{id:"tracked-artist-events-list"}},[t.loading&&t.countrySet?s("div",{staticClass:"message-div"},[t._v("\n                Loading events...\n            ")]):t._e(),t._v(" "),t._l(t.orderedEvents,function(e,a){return t.showEvents&&!t.showAllEvents?s("div",{staticClass:"tracked-artist-event animated fadeInLeft",style:{animationDelay:.1*a+"s"}},[s("img",{staticClass:"artist-image",attrs:{src:e.imageUrl,alt:e.lineup[0]}}),t._v(" "),s("div",{staticClass:"event-info-wrapper"},[s("h2",{staticClass:"artist-name"},[s("router-link",{attrs:{to:{path:"artists/"+e.lineup[0]}}},[t._v(" "+t._s(e.lineup[0]))])],1),t._v(" "),s("p",{staticClass:"event-date"},[t._v(t._s(e.datetime))]),t._v(" "),s("p",{staticClass:"event-city"},[t._v(t._s(e.venue.city))]),t._v(" "),s("p",{staticClass:"event-venue"},[t._v(t._s(e.venue.name))]),t._v(" "),s("p",{staticClass:"event-combined"},[t._v(t._s(e.venue.city)),s("br"),t._v(t._s(e.venue.name))]),t._v(" "),e.ticketUrl?s("a",{staticClass:"event-tickets",attrs:{href:e.ticketUrl}},[t._v("Tickets")]):s("a",{staticClass:"event-tickets",attrs:{href:e.searchUrl}},[t._v("Search for tickets")])])]):t._e()}),t._v(" "),t.showEvents&&!t.orderedEvents.length&&t.countrySet?s("div",{staticClass:"message-div"},[t._v("\n                No local events :(\n            ")]):t._e(),t._v(" "),t.countrySet?t._e():s("div",{staticClass:"message-div"},[t._v("\n                Choose a location to see local events.\n            ")]),t._v(" "),t.countrySet&&!t.trackedArtists.list.length?s("div",{staticClass:"message-div"},[t._v("\n                No tracked artists.\n            ")]):t._e()],2),t._v(" "),s("div",{staticClass:"animated",attrs:{id:"tracked-artist-list-container"}},[s("div",{attrs:{id:"artist-list-header"}},[s("p",[t._v("All tracked artists:")]),t._v(" "),s("i",{staticClass:"fa fa-times",on:{click:t.hideAllTrackedArtists}})]),t._v(" "),s("div",{attrs:{id:"tracked-artist-list"}},t._l(t.trackedArtists.list,function(e){return s("span",[s("i",{staticClass:"fa fa-times",on:{click:function(s){return t.removeFromTracked(e)}}}),t._v(" "),s("router-link",{attrs:{to:{path:"artists/"+e}}},[t._v(" "+t._s(e))])],1)}),0)])])])},_t=[],kt={render:pt,staticRenderFns:_t},wt=kt,yt=s("VU/8"),bt=c,At=yt(gt,wt,!1,bt,"data-v-d0fb90ba",null),Ct=At.exports,St={data:function(){return{}},watch:{$route:function(){}},created:function(){window.document.title="ConcerTrack - Search For an Artist"},mounted:function(){document.getElementById("input-field").focus()},methods:{callBackForm:function(t,e){var s=this;if("artistSearch"==t){var a=e;y.doesArtistExist(a).then(function(t){y.lastArtist=t,t.id&&s.$router.push({path:"/artists/"+a})}).catch(function(t){if(t.toString().includes("SyntaxError"))for(var e=0,i=s.$children.length;e<i;e++){var n=s.$children[e];"autocomplete-container"==n.$el.id&&(n.inputValue=a,n.errorMessage="Sorry, we couldn't find that artist :(")}})}}}},Lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"search-body"}},[t._m(0),t._v(" "),s("div",{attrs:{id:"not-description-wrapper"}},[s("div",{attrs:{id:"not-description"}},[s("autocomplete",{attrs:{title:"Search for events from an artist:",placeholder:"Artist name",data:"static/AllList.json",callback:"artistSearch",submitText:"Search"}}),t._v(" "),t._m(1)],1)])])},Et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"website-description"}},[s("h2",[t._v("\n            Find concerts, track artists. No hassle.\n        ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"img-container"}},[s("img",{attrs:{src:"static/map.svg",alt:""}})])}],Mt={render:Lt,staticRenderFns:Et},Tt=Mt,It=s("VU/8"),Ft=l,xt=It(St,Tt,!1,Ft,"data-v-0a3e0fc6",null),Ut=xt.exports,Dt={data:function(){return{}},watch:{},created:function(){window.document.title="ConcerTrack - The Creator"},mounted:function(){},methods:{}},$t=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Rt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"output-container"}},[s("div",{attrs:{id:"output"}},[s("div",{attrs:{id:"left-side"}},[s("img",{attrs:{src:"static/lg.png",alt:""}}),t._v(" "),s("div",{attrs:{id:"info-container"}},[s("h1",[t._v("Leon Grasmeijer")]),t._v(" "),s("a",{staticClass:"link-icon",attrs:{href:"https://github.com/LeonGr"}},[s("i",{staticClass:"fa fa-github",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("a",{staticClass:"link-icon",attrs:{href:"mailto:leongrasmeijer@gmail.com"}},[s("i",{staticClass:"fa fa-envelope-o",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("a",{staticClass:"link-icon",attrs:{href:"https://codepen.io/LeonGr/"}},[s("i",{staticClass:"fa fa-codepen",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("p",[t._v("\n                    Leon Grasmeijer is the developer of this website,\n                    he is studying Computer Science & Engineering at the Eindhoven University of Technology\n                    and loves mechanical keyboards and pizza. Read more on his "),s("a",{attrs:{href:"http://leongr.nl"}},[t._v("website")]),t._v(".\n                ")])])])])])}],Vt={render:$t,staticRenderFns:Rt},Bt=Vt,qt=s("VU/8"),jt=d,Ot=qt(Dt,Bt,!1,jt,"data-v-80786122",null),Gt=Ot.exports,Nt={data:function(){return console.log("data"),{errorMessage:"",importCode:"",trackedArtists:{list:[]}}},watch:{$route:function(){console.log("route"),window.location.reload()}},mounted:function(){this.loadImport()},methods:{loadImport:function(){this.importCode=this.$route.params.importCode;var t=atob(this.importCode);try{JSON.parse(t)}catch(t){return void(this.errorMessage="Invalid import code. Are you sure you copied the correct URL? <br> It should look something like this: <a href='"+window.location.origin+"/import/eyJsaXN0IjpbInJpY2sgYXN0bGV5Il19'>"+window.location.origin+"/import/eyJsaXN0IjpbInJpY2sgYXN0bGV5Il19</a>")}localStorage.setItem("Tracked",t),this.$router.push({path:"/tracked"}),alert("Import Successful")},goBack:function(){console.log(this.$router.back())}}},Pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"error-container"}},[s("div",{attrs:{id:"error-message-container"}},[s("h1",[t._v("Whoopsie daisy!")]),t._v(" "),s("p",{domProps:{innerHTML:t._s(t.errorMessage)}}),t._v(" "),s("a",{on:{click:t.goBack}},[t._v("Go back to previous page")])])])},Wt=[],Ht={render:Pt,staticRenderFns:Wt},Jt=Ht,Yt=s("VU/8"),Zt=u,zt=Yt(Nt,Jt,!1,Zt,"data-v-2d3ac051",null),Xt=zt.exports,Qt={data:function(){return console.log("data"),{}},watch:{$route:function(){console.log("route")}},created:function(){window.document.title="ConcerTrack - Contact"},mounted:function(){},methods:{}},Kt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},te=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"contact"}},[s("div",{attrs:{id:"contact-body"}},[s("h1",[t._v("Contact")]),t._v(" "),s("p",[t._v("\n            Do you have a question, an idea for improvement or do you just want to thanks us for building this website?\n            "),s("br"),t._v(" "),s("br"),t._v("\n            You can contact us at "),s("a",{attrs:{href:"mailto:contact@ConcerTrack.com"}},[t._v("contact@ConcerTrack.com")]),t._v(".\n        ")])])])}],ee={render:Kt,staticRenderFns:te},se=ee,ae=s("VU/8"),ie=h,ne=ae(Qt,se,!1,ie,"data-v-7e6d3b49",null),re=ne.exports,oe={data:function(){return console.log("data"),{}},watch:{$route:function(){console.log("route")}},created:function(){window.document.title="ConcerTrack - Disclaimer"},mounted:function(){},methods:{}},ce=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},le=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"disclaimer"}},[s("div",{attrs:{id:"disclaimer-body"}},[s("h1",[t._v("Disclaimer")]),t._v(" "),s("p",[t._v("\n            All information about concerts comes from "),s("a",{attrs:{href:"https://bandsintown.com"}},[t._v("bandsintown.com")]),t._v(". Huge thanks to them and please go to their site for more information, news, reviews and more!\n        ")])])])}],de={render:ce,staticRenderFns:le},ue=de,he=s("VU/8"),ve=v,fe=he(oe,ue,!1,ve,"data-v-21c598e6",null),me=fe.exports,ge={data:function(){return{}},watch:{$route:function(){}},created:function(){window.document.title="ConcerTrack - Frequently Asked Questions"},mounted:function(){},methods:{}},pe=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_e=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"faq"}},[s("div",{attrs:{id:"faq-body"}},[s("h1",[t._v("Frequently Asked Questions:")]),t._v(" "),s("div",{staticClass:"question"},[s("h2",[t._v("Why does "),s("i",[t._v("artist_name")]),t._v(" not show up in the autocomplete list?")]),t._v(" "),s("p",[t._v("We are trying to get as many artists as possible in our autocomplete function. But sometimes the artist just does not exist in any of the lists we are using. This does not always mean that we don't have info on the artist! You can contact us as "),s("a",{attrs:{href:"mailto:contact@concertrack.com"}},[t._v("contact@concertrack.com")]),t._v(" and we'll gladly add them to our list.")])]),t._v(" "),s("div",{staticClass:"question"},[s("h2",[t._v("Why does "),s("i",[t._v("artist_name")]),t._v(' show up in the autocomplete list but gives an "artist not found" error?')]),t._v(" "),s("p",[t._v("We are using the "),s("a",{attrs:{href:"https://bandsintown.com"}},[t._v("bandsintown")]),t._v(" and "),s("a",{attrs:{href:"https://last.fm"}},[t._v("last.fm")]),t._v(" APIs to get our information. So if they don't have information about the artist, we unfortunately can't provide you with information either.")])]),t._v(" "),s("div",{staticClass:"question"},[s("h2",[t._v("This site sucks!")]),t._v(" "),s("p",[t._v("That's not a question. However, we are always happy to hear suggestions on how to improve our site! Send us a message at "),s("a",{attrs:{href:"mailto:contact@concertrack.com"}},[t._v("contact@concertrack.com")]),t._v(".")])]),t._v(" "),s("div",{staticClass:"question"},[s("h2",[t._v("More questions?")]),t._v(" "),s("p",[t._v("We can help! Just send us an email and we will try to get back to you as soon as possible: "),s("a",{attrs:{href:"mailto:contact@concertrack.com"}},[t._v("contact@concertrack.com")]),t._v(".")])])])])}],ke={render:pe,staticRenderFns:_e},we=ke,ye=s("VU/8"),be=f,Ae=ye(ge,we,!1,be,"data-v-5ef8d390",null),Ce=Ae.exports,Se={data:function(){return console.log("data"),{}},watch:{$route:function(){console.log("route")}},created:function(){window.document.title="ConcerTrack - Privacy"},mounted:function(){},methods:{}},Le=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ee=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"privacy"}},[s("div",{attrs:{id:"privacy-body"}},[s("h1",[t._v("Privacy")]),t._v(" "),s("p"),s("h2",[t._v("1 â About ConcerTrack")]),t._v("\n\n        ConcerTrack helps you keep track of upcoming concerts from your favourite artists. We do this by combining data from several websites into an easy to use website.\n        We record some of the data to get to know our users better so we can improve our product. We anonimize this data by obfuscating the last part of the IP address so it is not possible to find who visited the website. Example: 192.0.2.0 becomes 192.0.xxx.xxx.\n\n        "),s("h2",[t._v("2 â Purpose of the processing")]),t._v("\n\n        Matomo is used to analyse the behaviour of the website visitors to identify potential pitfalls; not found pages, search engine indexing issues, which contents are the most appreciatedâ¦ Once the data is processed (number of visitors reaching a not found pages, viewing only one pageâ¦), Matomo is generating reports for website owners to take action, for example changing the layout of the pages, publishing some fresh contentâ¦ etc.\n\n        Matomo is processing the following personal data:\n\n        IP address, Location of the user, Date and time, Title of the page being viewed, URL of the page being viewed, URL of the page that was viewed prior to the current page, Screen resolution, Link clicks to an outside domain.\n\n\n        "),s("h2",[t._v("3 â Recipient of the personal data")]),t._v("\n\n        The personal data received through Matomo are sent to ConcerTrack.\n\n        "),s("h2",[t._v("4 â Details of transfers to third country and safeguards")]),t._v("\n\n        Matomo data is hosted in the Netherlands.\n\n        "),s("h2",[t._v("5 â The existence of each of the data subjectâs rights")]),t._v("\n\n        If you are processing personal data with Matomo based on legitimate interest:\n\n        As Matomo is processing personal data on legitimate interests, you can exercise the following rights:\n\n            Right of access: you can ask us at any time to access your personal data.\n            Right to erasure: you can ask us at any time to delete all the personal data we are processing about you.\n            Right to object: you can object to the tracking of your personal data by using the following opt-out feature:\n\n        "),s("br"),t._v(" "),s("iframe",{attrs:{src:"https://piwik.concertrack.com/index.php?module=CoreAdminHome&action=optOut&language=en&backgroundColor=ffffff&fontColor=333333&fontSize=16px&fontFamily=sans-serif"}}),t._v(" "),s("h2",[t._v("6 â The right to lodge a complaint with a supervisory authority")]),t._v("\n\n        If you think that the way we process your personal data with Matomo analytics is infringing the law, you have the right to lodge a complaint with a supervisory authority.\n\n        "),s("h2",[t._v("7 â Whether the provision of personal data is part of a statutory or contractual requirement; or obligation and possible consequences of failing to provide the personal data")]),t._v("\n\n        If you wish us to not process any personal data with Matomo, you can opt-out from it at any time. There will be no consequences at all regarding the use of our website.\n\n        "),s("h2",[t._v("8 â The existence of automated decision-making, including profiling and information about how decisions are made, the significance and the consequences")]),t._v("\n\n        Matomo is not doing any profiling.\n        "),s("p")])])}],Me={render:Le,staticRenderFns:Ee},Te=Me,Ie=s("VU/8"),Fe=m,xe=Ie(Se,Te,!1,Fe,"data-v-582d9c7c",null),Ue=xe.exports,De={data:function(){return{addedArtists:[],similarArtists:[]}},watch:{$route:function(){console.log("route")}},created:function(){window.document.title="ConcerTrack - New Here"},mounted:function(){},methods:{callBackForm:function(t,e){var s=this;if("artistSearch"==t){console.log(e);var a=function(t){for(var e=0,a=s.$children.length;e<a;e++){var n=s.$children[e];"autocomplete-container"==n.$el.id&&(console.log(n),n.inputValue=i,n.errorMessage=t)}},i=e.toLowerCase();y.doesArtistExist(i).then(function(t){s.getLastFMInfo(i)}).catch(function(t){t.toString().includes("SyntaxError")&&a("Sorry, we couldn't find that artist :(")})}},getLastFMInfo:function(t){var e=this;y.getLastFMData(t).then(function(t){if(t.error)throw t.message;console.log(t);for(var e={name:t.artist.name,imageUrl:t.artist.image[t.artist.image.length-1]["#text"],similarArtists:[]},s=t.artist.similar.artist,a=0,i=s.length;a<i;a++){var n=s[a],r={name:n.name,imageUrl:n.image[t.artist.image.length-1]["#text"]};e.similarArtists.push(r)}return e}).then(function(t){e.addToAddedArtists(t)})},addToAddedArtists:function(t){var e=this;console.log(t);for(var s=t.name.toLowerCase(),a=0,i=this.addedArtists.length;a<i;a++){if(s==this.addedArtists[a].name.toLowerCase())return void console.log(s+" already added to addedArtists")}this.addedArtists.push(t),this.addToSimilarArtists(t.similarArtists);var n=function(t){for(var s=0,a=e.similarArtists.length;s<a;s++){if(t==e.similarArtists[s].name.toLowerCase())return console.log(t+" already added to similarArtists"),s}return-1}(s);n>-1&&(console.log("should remove "+s+" from similarArtists at index "+n),this.similarArtists.splice(n,1))},addToSimilarArtists:function(t){var e=this;console.log(t);for(var s=0,a=t.length;s<a;s++){var i=t[s].name.toLowerCase();(function(t){for(var s=0,a=e.similarArtists.length;s<a;s++){if(t==e.similarArtists[s].name.toLowerCase())return console.log(t+" already added to similarArtists"),!0}for(var i=0,n=e.addedArtists.length;i<n;i++){if(t==e.addedArtists[i].name.toLowerCase())return console.log(t+" already added to addedArtists"),!0}return!1})(i)||this.similarArtists.push(t[s])}}}},$e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"newhere"}},[s("div",{attrs:{id:"newhere-body"}},[s("h1",[t._v("New Here?")]),t._v(" "),s("h2",[t._v("We can help you find artists to track")]),t._v(" "),s("autocomplete",{attrs:{title:"Search for an artist:",placeholder:"Artist name",data:"static/AllList.json",callback:"artistSearch",submitText:"Search"}}),t._v(" "),s("h2",[t._v("Added artists:")]),t._v(" "),s("div",{attrs:{id:"added-artists"}},t._l(t.addedArtists,function(e){return s("div",[s("p",[t._v(t._s(e.name))]),t._v(" "),s("img",{attrs:{src:e.imageUrl,alt:e.name}})])}),0),t._v(" "),s("h2",[t._v("Similar to added artists: (click to track)")]),t._v(" "),s("div",{attrs:{id:"similar-artists"}},t._l(t.similarArtists,function(e){return s("div",[s("p",[t._v(t._s(e.name))]),t._v(" "),s("img",{attrs:{src:e.imageUrl,alt:e.name},on:{click:function(s){return t.getLastFMInfo(e.name)}}})])}),0)],1)])},Re=[],Ve={render:$e,staticRenderFns:Re},Be=Ve,qe=s("VU/8"),je=g,Oe=qe(De,Be,!1,je,"data-v-75c4dc48",null),Ge=Oe.exports;p.a.use(st.a);var Ne=new st.a({mode:"history",routes:[{path:"/newhere",component:Ge},{path:"/privacy",component:Ue},{path:"/faq",component:Ce},{path:"/contact",component:re},{path:"/disclaimer",component:me},{path:"/import/:importCode",component:Xt},{path:"/tracked",component:Ct},{path:"/artists/Leon Grasmeijer",component:Gt},{path:"/artists/Leon%20Grasmeijer",redirect:"/artists/Leon Grasmeijer"},{path:"/artists/:artist",component:mt},{path:"/",component:Ut},{path:"*",redirect:"/"}]}),Pe={data:function(){return{inputValue:"",listOfData:[],allMatching:[],startMatching:[],showMatching:[],lastInputLength:0,maxResults:10,selectedSuggestion:null,errorMessage:"",partlyTyped:"",waiting:null}},props:{title:"",placeholder:"",data:"",callback:"",submitText:""},watch:{$route:function(){this.errorMessage=""}},mounted:function(){var t=this,e=function(e){var s=Array.prototype.slice.call(t.$el.children[0].children);"li"!=e.target.localName&&1!=s.indexOf(e.target)&&t.deselectInput()};window.addEventListener("mousedown",function(t){e(t)});var s=function(e){"ArrowDown"==e||"Tab"==e?t.selectSuggestion("down"):"ArrowUp"==e?t.selectSuggestion("up"):"Enter"==e&&t.submitSearch()};this.$el.children[0].children[1].addEventListener("keydown",function(t){s(t.key),(t.key.includes("ArrowUp")||t.key.includes("ArrowDown")||t.key.includes("Tab"))&&t.preventDefault()})},methods:{selectInput:function(){var t=this;if(!this.listOfData.length){y.autocompleteList&&y.autocompleteList[this.data]?this.listOfData=y.autocompleteList[this.data]:function(){return new k.a(function(e,s){fetch(window.location.origin+"/"+t.data,{method:"GET",headers:{accept:"application/json"}}).then(function(t){return t.json()}).then(function(t){e(t)}).catch(function(t){console.log(t)})})}().then(function(e){t.listOfData=e,y.autocompleteList[t.data]=t.listOfData})}},deselectInput:function(){this.showMatching=this.allMatching=this.startMatching=[]},submitSearch:function(){if(null!=this.selectedSuggestion){var t=document.getElementById("search-results"),e=t.children;this.inputValue=e[this.selectedSuggestion].innerText}this.submitForm()},selectSuggestion:function(t){var e=document.getElementById("search-results");if(e){for(var s=e.children,a=0,i=s.length;a<i;a++)s[a].classList.remove("selected");"up"==t?this.selectedSuggestion?(this.selectedSuggestion--,s[this.selectedSuggestion].classList.add("selected")):(this.selectedSuggestion=null,this.inputValue=this.partlyTyped):"down"==t&&(null==this.selectedSuggestion?(this.partlyTyped=this.inputValue,this.selectedSuggestion=0,s[this.selectedSuggestion].classList.add("selected")):this.selectedSuggestion==this.showMatching.length-1?(this.selectedSuggestion=null,this.inputValue=this.partlyTyped):(this.selectedSuggestion++,s[this.selectedSuggestion].classList.add("selected"))),s[this.selectedSuggestion]&&(this.inputValue=s[this.selectedSuggestion].innerText)}},clickSearchResult:function(t){this.inputValue=t.target.innerText,this.submitForm()},hoverSearchResult:function(t){for(var e=document.getElementById("search-results"),s=e.children,a=0,i=s.length;a<i;a++)s[a].classList.remove("selected"),t.target==s[a]&&(this.selectedSuggestion=a,t.target.classList.add("selected"))},inputChanged:function(){function t(t,e){for(var s=t.children,a=0,i=s.length;a<i;a++)if(s[a].localName==e)return s[a]}var e=t(this.$el,"form"),s=t(e,"input"),a=s.value;a&&a!=this.inputValue&&(this.inputValue=a),this.selectedSuggestion=null;this.errorMessage="";var i=this.inputValue.toLowerCase();if(i.length>1){if(i.length>this.lastInputLength&&this.allMatching.length>0){this.selectedSuggestion=null;for(var n=[],r=[],o=0,c=this.startMatching.length;o<c;o++)this.startMatching[o].toLowerCase().startsWith(i)&&r.push(this.startMatching[o]);for(var l=0,d=this.allMatching.length;l<d;l++){var u=this.allMatching[l];u.toLowerCase().includes(i)&&!u.startsWith(i)&&n.push(this.allMatching[l])}this.allMatching=n,this.startMatching=r}else{this.allMatching=[],this.startMatching=[];for(var h=0,v=this.listOfData.length;h<v;h++){var f=this.listOfData[h];f.toLowerCase().startsWith(i)?this.startMatching.push(f):f.toLowerCase().includes(i)&&!f.startsWith(i)&&this.allMatching.push(f)}}this.showMatching=[];for(var m=this.maxResults,g=0,p=m;g<p;g++)g<this.startMatching.length&&this.showMatching.push(this.startMatching[g]);if(this.showMatching.length<m)for(var _=m-this.showMatching.length,k=0,w=_;k<w;k++)k<this.allMatching.length&&this.showMatching.push(this.allMatching[k]);if(this.showMatching.length<m&&"artistSearch"==this.callback);}else this.allMatching=this.startMatching=this.showMatching=[];this.lastInputLength=this.inputValue.length},submitForm:function(){this.inputValue&&(this.showMatching=this.allMatching=this.startMatching=[],this.$parent.callBackForm(this.callback,this.inputValue),this.inputValue="")},hideError:function(){var t=this,e=document.getElementById("errorMessage");e.classList.add("lightSpeedOut");var s=function(){e.classList.remove("lightSpeedOut"),t.errorMessage=""};e.addEventListener("animationend",function(){s()})}}},We=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"autocomplete-container"}},[s("form",{attrs:{id:"autocomplete-form"},on:{submit:function(t){t.preventDefault()}}},[s("h1",{attrs:{id:"title"}},[t._v(t._s(t.title))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],attrs:{id:"input-field",type:"text",placeholder:t.placeholder,autocomplete:"off"},domProps:{value:t.inputValue},on:{input:[function(e){e.target.composing||(t.inputValue=e.target.value)},t.inputChanged],focus:t.selectInput}}),t._v(" "),s("button",{attrs:{id:"submitButton"},domProps:{innerHTML:t._s(t.submitText)},on:{click:t.submitForm}}),t._v(" "),t.showMatching.length?s("ul",{attrs:{id:"search-results"}},t._l(t.showMatching,function(e,a){return s("li",{staticClass:"animated fadeIn",style:{animationDelay:.03*a+"s"},on:{click:function(e){return t.clickSearchResult(e)},mouseover:function(e){return t.hoverSearchResult(e)}}},[t._v(t._s(e))])}),0):t._e()]),t._v(" "),t.errorMessage?s("h1",{staticClass:"animated lightSpeedIn",attrs:{id:"errorMessage"},on:{click:t.hideError}},[t._v(t._s(t.errorMessage))]):t._e()])},He=[],Je={render:We,staticRenderFns:He},Ye=Je,Ze=s("VU/8"),ze=Ze(Pe,Ye,!1,null,null,null),Xe=ze.exports;p.a.config.productionTip=!1,p.a.component("autocomplete",Xe),new p.a({el:"#app",router:Ne,template:"<App/>",components:{App:et}})},NKZz:function(t,e){},OsbY:function(t,e){},PcXT:function(t,e){},Pvsk:function(t,e){},RFME:function(t,e){},ULau:function(t,e){},c7ah:function(t,e){},kRZB:function(t,e){},nhGC:function(t,e){},vdqY:function(t,e){},zLpM:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.fe4aeaa70e65485879be.js.map