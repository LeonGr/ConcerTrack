webpackJsonp([1],{"28wj":function(t,e){},"4uLr":function(t,e){},"6XOe":function(t,e){},D8op:function(t,e){},LDvZ:function(t,e){},NHnr:function(t,e,s){"use strict";function a(t){s("fBEi"),s("QxwV")}function i(t){s("vpXx")}function n(t){s("D8op")}function r(t){s("kSW6")}function o(t){s("sAEu"),s("zIUh")}function c(t){s("r3zT"),s("vN4w")}function l(t){s("WDiv"),s("ys6E")}function u(t){s("SWcn")}function h(t){s("dD7k"),s("4uLr")}function d(t){s("Y+Ek"),s("28wj")}function v(t){s("LDvZ"),s("6XOe")}function f(t){s("Nf3F"),s("TYRY")}Object.defineProperty(e,"__esModule",{value:!0});var m=s("7+uW"),p=s("//Fk"),_=s.n(p),g={},k=g;g.doesArtistExist=function(t){if("leon grasmeijer"==t.toLowerCase())return void this.$router.push({path:"/artists/Leon Grasmeijer"});document.getElementById("output");return new _.a(function(e,s){fetch("https://rest.bandsintown.com/artists/"+t+"?app_id='ConcerTrack v0.0.1'",{method:"GET",headers:{accept:"application/json"}}).then(function(t){return t.json()}).then(function(t){e(t)}).catch(function(t){s(t)})})},g.saved={loaded:!1,allLocalEvents:[],trackedArtists:{list:[]},countrySet:!1,artistImages:[]},g.resetSaved=function(){g.saved={loaded:!1,allLocalEvents:[],trackedArtists:{list:[]},countrySet:!1,artistImages:[]}},g.lastArtist,g.lastArtistEvents,g.lastArtistEventsLocal,g.lastLastFMdata,g.autocompleteList={};var w={data:function(){return{hideSearchElements:!1,showSearchMobile:!1,showTrackedLink:!0}},mounted:function(){this.hideOrShowSearchElements()},watch:{$route:function(){this.hideOrShowSearchElements(),this.showSearchMobile=!1}},methods:{scrollTop:function(){for(var t=document.getElementsByClassName("scrollable"),e=0,s=t.length;e<s;e++)t[e].scrollTop=0},showSearch:function(){var t=this;if(this.showSearchMobile){console.log("test");var e=document.getElementById("search-mobile");e.classList.add("slideOutUp");var s=function(){e.classList.remove("slideOutUp"),t.showSearchMobile=!1};e.addEventListener("animationend",function(){s()})}else document.getElementById("input-field").focus(),this.showSearchMobile=!0},hideOrShowSearchElements:function(){var t=this.$route.path;t=t.split("/").pop(),this.hideSearchElements=!t,this.showTrackedLink="tracked"!=t},callBackForm:function(t,e){var s=this;if("artistSearch"==t){var a=e;k.doesArtistExist(a).then(function(t){s.showSearchMobile=!1,k.lastArtist=t,t.id&&s.$router.push({path:"/artists/"+a})}).catch(function(t){if(t.toString().includes("SyntaxError"))for(var e=0,i=s.$children.length;e<i;e++){var n=s.$children[e];"autocomplete-container"==n.$el.id&&(n.inputValue=a,n.errorMessage="Sorry, we couldn't find that artist :(")}})}}}},y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{on:{click:t.scrollTop}},[s("div",{attrs:{id:"test"}},[t._v("Â ")]),t._v(" "),s("router-link",{attrs:{to:"/",id:"header-title-link"}},[s("h2",[t._v("ConcerTrack")])]),t._v(" "),t.showTrackedLink?s("router-link",{attrs:{to:"/tracked",id:"tracked-link"}},[s("p",[t._v("Tracked Artists")])]):t._e(),t._v(" "),t.hideSearchElements?t._e():s("div",{attrs:{id:"search-tracked-view"}},[s("autocomplete",{attrs:{title:"",placeholder:"Search for an artist",data:"static/AllList.json",callback:"artistSearch",submitText:"<i class='fa fa-search' aria-hidden='true'></i>"}})],1),t._v(" "),t.showSearchMobile?s("div",{staticClass:"animated slideInDown",attrs:{id:"search-mobile"}},[s("div",{attrs:{id:"search-mobile-close"},on:{click:t.showSearch}},[s("i",{staticClass:"fa fa-times"})]),t._v(" "),s("autocomplete",{attrs:{title:"",placeholder:"Search for an artist",data:"static/AllList.json",callback:"artistSearch",submitText:"<i class='fa fa-search' aria-hidden='true'></i>"}})],1):t._e(),t._v(" "),t.hideSearchElements?t._e():s("div",{attrs:{id:"search-icon"},on:{click:t.showSearch}},[t._v("\n        Search\n        "),s("i",{staticClass:"fa fa-search"})]),t._v(" "),s("span",{staticClass:"square"}),t._v(" "),s("span",{staticClass:"square"}),t._v(" "),s("span",{staticClass:"square"}),t._v(" "),s("span",{staticClass:"square"}),t._v(" "),s("span",{staticClass:"square"})],1)},b=[],C={render:y,staticRenderFns:b},S=C,E=s("VU/8"),A=a,L=E(w,S,!1,A,null,null),M=L.exports,T=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default")],2)},I=[],F={render:T,staticRenderFns:I},D=F,U=s("VU/8"),x=i,$=U(null,D,!1,x,"data-v-213dc2ba",null),B=$.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("span",{staticClass:"square"}),t._v(" "),s("span",{staticClass:"square"}),t._v(" "),s("span",{staticClass:"square"}),t._v(" "),s("span",{staticClass:"square"}),t._v(" "),s("span",{staticClass:"square"}),t._v(" "),s("div",{attrs:{id:"info-wrapper"}},[t._m(0,!1,!1),t._v(" "),s("div",{attrs:{id:"links"}},[s("router-link",{staticClass:"footer-link",attrs:{to:"/contact"}},[s("p",[t._v("Contact")])]),t._v(" "),s("router-link",{staticClass:"footer-link",attrs:{to:"/faq"}},[s("p",[t._v("FAQ")])]),t._v(" "),s("router-link",{staticClass:"footer-link",attrs:{to:"/disclaimer"}},[s("p",[t._v("Disclaimer")])])],1)])])},V=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{attrs:{id:"footer-disclaimer"}},[t._v("\n             Made possible by "),s("a",{attrs:{href:"https://bandsintown.com"}},[t._v("Bandsintown")]),t._v("."),s("br")])}],O={render:j,staticRenderFns:V},R=O,G=s("VU/8"),q=n,N=G(null,R,!1,q,"data-v-87a31ae8",null),W=N.exports,J={data:function(){return{}},components:{SiteHeader:M,SiteBody:B,SiteFooter:W}},Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("site-header"),t._v(" "),s("site-body",[s("router-view")],1),t._v(" "),s("site-footer")],1)},H=[],P={render:Y,staticRenderFns:H},X=P,z=s("VU/8"),Q=r,Z=z(J,X,!1,Q,null,null),K=Z.exports,tt=s("/ocq"),et=s("mvHQ"),st=s.n(et),at=s("M4fF"),it=s.n(at),nt={data:function(){return{artist:"",artistInfo:{},bandcampUrl:"",events:[],lastFMData:{},artistBio:"",onTour:!1,imageUrl:"",countrySet:!1,localEvents:[],tracking:!1,trackedArtists:{list:[]},showAllLocal:!1,showAllGlobal:!1}},watch:{$route:function(){this.localEvents=[],this.getAllInformation(),this.getTrackedArtists()}},computed:{firstFiveLocal:function(){return it.a.slice(this.localEvents,0,5)},firstFiveGlobal:function(){return it.a.slice(this.events,0,5)}},created:function(){this.getAllInformation(),this.getTrackedArtists()},mounted:function(){var t=localStorage.getItem("Country");t&&(this.countrySet=t)},methods:{toggleMoreLessGlobal:function(){var t=document.getElementById("event-list"),e=t.scrollTop;this.showAllGlobal=!this.showAllGlobal,setTimeout(function(){t.scrollTop=e},1)},toggleMoreLessLocal:function(){var t=document.getElementById("local-events-list"),e=t.scrollTop;this.showAllLocal=!this.showAllLocal,setTimeout(function(){t.scrollTop=e},1)},getTrackedArtists:function(){var t=JSON.parse(localStorage.getItem("Tracked"));t&&(this.trackedArtists=t),this.tracking=!1;for(var e=0,s=this.trackedArtists.list.length;e<s;e++){this.trackedArtists.list[e].toLowerCase()==this.$route.params.artist.toLowerCase()&&(this.tracking=!0)}},getAllInformation:function(){this.getArtistEvents(),this.checkBandcampAccount(),this.getLastFMInfo()},getArtistEvents:function(){var t=this;this.artist=this.$route.params.artist;var e="https://rest.bandsintown.com/";k.lastArtistEvents&&k.lastArtistEvents.artist.toLowerCase()==this.artist.toLowerCase()?(this.events=k.lastArtistEvents,this.localEvents=k.lastArtistEventsLocal):function(t){return new _.a(function(s,a){fetch(e+"artists/"+t+"/events?app_id='ConcerTrack v0.0.1'",{method:"GET",headers:{accept:"application/json"}}).then(function(t){return t.json()}).then(function(e){e.artist=t,s(e)}).catch(function(t){console.log(t)})})}(this.artist).then(function(e){t.events=e,t.events.forEach(function(s){var a=new Date(s.datetime),i=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];s.datetime=a.getDate()+" "+i[a.getMonth()],s.url?s.ticketUrl=s.url:s.searchUrl="https://duckduckgo.com/?q="+e.artist+" "+s.datetime,s.venue.country==t.countrySet&&t.localEvents.push(s)}),k.lastArtistEvents=t.events,k.lastArtistEventsLocal=t.localEvents}),k.lastArtist&&k.lastArtist.name.toLowerCase()==this.artist.toLowerCase()?this.artistInfo=k.lastArtist:function(t){return new _.a(function(s,a){fetch(e+"artists/"+t+"?app_id='ConcerTrack v0.0.1'",{method:"GET",headers:{accept:"application/json"}}).then(function(t){return t.json()}).then(function(t){s(t)}).catch(function(t){console.log(t)})})}(this.artist).then(function(e){t.artistInfo=e,k.lastArtist=e})},checkBandcampAccount:function(){this.bandcampUrl="https://bandcamp.com/search?q="+this.artist.toLowerCase()},getLastFMInfo:function(){var t=this;k.lastLastFMdata&&k.lastLastFMdata.name.toLowerCase()==this.artist.toLowerCase()?(this.lastFMData=k.lastLastFMdata,this.artist=this.lastFMData.name,this.artistBio=this.lastFMData.bio.summary,this.imageUrl=this.lastFMData.image[this.lastFMData.image.length-1]["#text"]||this.artistInfo.image_url,window.document.title="ConcerTrack - "+this.lastFMData.name):function(){var e=encodeURIComponent(t.artist);return new _.a(function(t,s){fetch("https://ws.audioscrobbler.com/2.0/?method=artist.getinfo&api_key=a4629fdacfd93267704f599b874a59bf&format=json&artist="+e,{method:"GET",headers:{accept:"application/json"}}).then(function(t){return t.json()}).then(function(e){t(e)}).catch(function(t){console.log(t)})})}().then(function(e){if(e.error)throw e.message;t.lastFMData=e.artist,t.artist=t.lastFMData.name,t.artistBio=t.lastFMData.bio.summary,t.imageUrl=t.lastFMData.image[t.lastFMData.image.length-1]["#text"]||t.artistInfo.image_url,k.lastLastFMdata=t.lastFMData,window.document.title="ConcerTrack - "+t.lastFMData.name})},callBackForm:function(t,e){var s=this;if("artistSearch"==t){var a=e;k.doesArtistExist(a).then(function(t){t.id&&s.$router.push({path:"/artists/"+a})}).catch(function(t){t.toString().includes("SyntaxError")&&(s.$children[1].errorMessage="Sorry, we couldn't find that artist :(")})}else if("countrySearch"==t){var i=e;localStorage.setItem("Country",i),this.countrySet=i,this.localEvents=[];for(var n=0,r=this.events.length;n<r;n++){var o=this.events[n];o.venue.country==i&&this.localEvents.push(o)}}},resetCountry:function(){localStorage.removeItem("Country"),this.countrySet=!1},trackArtist:function(){if(this.tracking){this.tracking=!1;var t=this.trackedArtists.list.indexOf(this.lastFMData.name);-1!=t&&this.trackedArtists.list.splice(t,1)}else{this.tracking=!0;for(var e=!1,s=0,a=this.trackedArtists.list.length;s<a;s++){this.trackedArtists.list[s].toLowerCase()==this.lastFMData.name.toLowerCase()&&(e=!0)}e||this.trackedArtists.list.push(this.lastFMData.name)}localStorage.setItem("Tracked",st()(this.trackedArtists)),k.resetSaved()}}},rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"output-container"}},[s("div",{attrs:{id:"output"}},[s("div",{attrs:{id:"left-side"}},[t.imageUrl?s("img",{attrs:{src:t.imageUrl,alt:"",id:"artist-image"}}):t._e(),t._v(" "),s("div",{attrs:{id:"img-container"}},[t.imageUrl?s("img",{attrs:{src:t.imageUrl,alt:"",id:"artist-image-mobile"}}):t._e()]),t._v(" "),s("div",{attrs:{id:"info-container"}},[s("div",{attrs:{id:"info-wrapper"}},[s("h1",[t._v(t._s(t.lastFMData.name))]),t._v(" "),t.artistInfo.facebook_page_url?s("a",{staticClass:"link-icon",attrs:{href:t.artistInfo.facebook_page_url}},[s("i",{staticClass:"fa fa-facebook-official",attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),t.bandcampUrl?s("a",{staticClass:"link-icon",attrs:{href:t.bandcampUrl}},[s("i",{staticClass:"fa fa-bandcamp",attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),t.lastFMData.url?s("a",{staticClass:"link-icon",attrs:{href:t.lastFMData.url}},[s("i",{staticClass:"fa fa-lastfm-square",attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),t.lastFMData?s("p",{attrs:{id:"normal-bio"},domProps:{innerHTML:t._s(t.artistBio)}},[t._v("\n                        "+t._s(t.artistBio)+"\n                    ")]):t._e(),t._v(" "),t.tracking?s("button",{staticClass:"mobile-button",attrs:{id:"track-button-tracked"},on:{click:t.trackArtist}},[t._v("Stop Tracking")]):s("button",{staticClass:"mobile-button",attrs:{id:"track-button"},on:{click:t.trackArtist}},[t._v("Track Artist")])])]),t._v(" "),t.tracking?s("button",{staticClass:"normal-button",attrs:{id:"track-button-tracked"},on:{click:t.trackArtist}},[t._v("Stop Tracking")]):s("button",{staticClass:"normal-button",attrs:{id:"track-button"},on:{click:t.trackArtist}},[t._v("Track Artist")]),t._v(" "),t.lastFMData?s("p",{attrs:{id:"mobile-bio"},domProps:{innerHTML:t._s(t.artistBio)}},[t._v("\n                "+t._s(t.artistBio)+"\n            ")]):t._e()]),t._v(" "),s("div",{attrs:{id:"right-side"}},[s("div",{attrs:{id:"local-event-container"}},[s("h1",[t._v("Local events:")]),t._v(" "),t.countrySet?s("div",{attrs:{id:"local-events"}},[s("button",{attrs:{id:"change-location-button"},on:{click:t.resetCountry}},[t._v("Change location")]),t._v(" "),t.localEvents.length?s("p",{staticClass:"amount-upcoming"},[t._v("\n                        "+t._s(t.localEvents.length)+" upcoming events in country '"+t._s(t.countrySet)+"':\n                    ")]):t._e(),t._v(" "),t._m(0,!1,!1),t._v(" "),t._m(1,!1,!1),t._v(" "),t.localEvents.length&&t.showAllLocal?s("div",{staticClass:"event-list",attrs:{id:"local-events-list"}},[t._l(t.localEvents,function(e){return s("div",{key:e.datetime,staticClass:"event-div"},[s("p",{staticClass:"event-date"},[t._v(t._s(e.datetime))]),t._v(" "),s("p",{staticClass:"event-venue"},[t._v(t._s(e.venue.name))]),t._v(" "),s("p",{staticClass:"event-city"},[t._v(t._s(e.venue.city))]),t._v(" "),s("p",{staticClass:"event-venue-location"},[t._v("\n                                "+t._s(e.venue.name)+"\n                                "),s("br"),t._v("\n                                "+t._s(e.venue.city)+"\n                            ")]),t._v(" "),e.ticketUrl?s("a",{attrs:{href:e.ticketUrl}},[t._v("Tickets")]):s("a",{attrs:{href:e.searchUrl}},[t._v("Search tickets")])])}),t._v(" "),t.localEvents.length>5?s("button",{staticClass:"show-more-less-button",on:{click:t.toggleMoreLessLocal}},[t._v("Show Less")]):t._e()],2):t._e(),t._v(" "),t.localEvents.length&&!t.showAllLocal?s("div",{staticClass:"event-list",attrs:{id:"local-events-list"}},[t._l(t.firstFiveLocal,function(e){return s("div",{key:e.datetime,staticClass:"event-div"},[s("p",{staticClass:"event-date"},[t._v(t._s(e.datetime))]),t._v(" "),s("p",{staticClass:"event-venue"},[t._v(t._s(e.venue.name))]),t._v(" "),s("p",{staticClass:"event-city"},[t._v(t._s(e.venue.city))]),t._v(" "),s("p",{staticClass:"event-venue-location"},[t._v("\n                                "+t._s(e.venue.name)+"\n                                "),s("br"),t._v("\n                                "+t._s(e.venue.city)+"\n                            ")]),t._v(" "),e.ticketUrl?s("a",{attrs:{href:e.ticketUrl}},[t._v("Tickets")]):s("a",{attrs:{href:e.searchUrl}},[t._v("Search tickets")])])}),t._v(" "),t.localEvents.length>5?s("button",{staticClass:"show-more-less-button",on:{click:t.toggleMoreLessLocal}},[t._v("Show More")]):t._e()],2):t._e(),t._v(" "),t.localEvents.length?t._e():s("div",{staticStyle:{"margin-top":"5px"}},[t._v("No local upcoming events :(")])]):s("div",{attrs:{id:"ask-location"}},[s("p",[t._v("\n                        No location set, do you want to set it now so we can show you events in your country?\n                    ")]),t._v(" "),s("div",{attrs:{id:"country-artist-view"}},[s("autocomplete",{attrs:{title:"Select country:",placeholder:"Country name",data:"static/countries.json",callback:"countrySearch",submitText:"Select"}})],1)])]),t._v(" "),s("div",{attrs:{id:"event-container"}},[s("h1",[t._v("Global events:")]),t._v(" "),t.events.length?s("p",{staticClass:"amount-upcoming"},[t._v("\n                    "+t._s(t.artistInfo.upcoming_event_count)+" upcoming events worldwide:\n                ")]):t._e(),t._v(" "),t._m(2,!1,!1),t._v(" "),t._m(3,!1,!1),t._v(" "),t.events.length&&!t.showAllGlobal?s("div",{staticClass:"event-list",attrs:{id:"event-list"}},[t._l(t.firstFiveGlobal,function(e){return s("div",{staticClass:"event-div"},[s("p",{staticClass:"event-date"},[t._v(t._s(e.datetime))]),t._v(" "),s("p",{staticClass:"event-venue"},[t._v(t._s(e.venue.name))]),t._v(" "),s("p",{staticClass:"event-city"},[t._v(t._s(e.venue.city)+", "+t._s(e.venue.country))]),t._v(" "),s("p",{staticClass:"event-venue-location"},[t._v("\n                            "+t._s(e.venue.name)+"\n                            "),s("br"),t._v("\n                            "+t._s(e.venue.city)+", "+t._s(e.venue.country)+"\n                        ")]),t._v(" "),e.ticketUrl?s("a",{attrs:{href:e.ticketUrl}},[t._v("Tickets")]):s("a",{attrs:{href:e.searchUrl}},[t._v("Search tickets")])])}),t._v(" "),t.events.length>5?s("button",{staticClass:"show-more-less-button",on:{click:t.toggleMoreLessGlobal}},[t._v("Show More")]):t._e()],2):t._e(),t._v(" "),t.events.length&&t.showAllGlobal?s("div",{staticClass:"event-list",attrs:{id:"event-list"}},[t._l(t.events,function(e){return s("div",{staticClass:"event-div"},[s("p",{staticClass:"event-date"},[t._v(t._s(e.datetime))]),t._v(" "),s("p",{staticClass:"event-venue"},[t._v(t._s(e.venue.name))]),t._v(" "),s("p",{staticClass:"event-city"},[t._v(t._s(e.venue.city)+", "+t._s(e.venue.country))]),t._v(" "),s("p",{staticClass:"event-venue-location"},[t._v("\n                            "+t._s(e.venue.name)+"\n                            "),s("br"),t._v("\n                            "+t._s(e.venue.city)+", "+t._s(e.venue.country)+"\n                        ")]),t._v(" "),e.ticketUrl?s("a",{attrs:{href:e.ticketUrl}},[t._v("Tickets")]):s("a",{attrs:{href:e.searchUrl}},[t._v("Search tickets")])])}),t._v(" "),t.events.length>5?s("button",{staticClass:"show-more-less-button",on:{click:t.toggleMoreLessGlobal}},[t._v("Show Less")]):t._e()],2):t._e(),t._v(" "),t.events.length?t._e():s("div",{staticStyle:{"margin-top":"5px"}},[t._v("No global upcoming events :(")])])])])])},ot=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-header"},[s("p",[t._v("Date")]),s("p",[t._v("Venue")]),s("p",[t._v("Location")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-header-mobile"},[s("p",[t._v("Date")]),t._v(" "),s("p",[t._v("Venue/Location")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-header"},[s("p",[t._v("Date")]),t._v(" "),s("p",[t._v("Venue")]),t._v(" "),s("p",[t._v("Location")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-header-mobile"},[s("p",[t._v("Date")]),t._v(" "),s("p",[t._v("Venue/Location")])])}],ct={render:rt,staticRenderFns:ot},lt=ct,ut=s("VU/8"),ht=o,dt=ut(nt,lt,!1,ht,"data-v-be494f6a",null),vt=dt.exports,ft={data:function(){return{events:{},allEvents:[],allLocalEvents:[],countrySet:!1,localEvents:[],showEvents:!1,showAllEvents:!1,artistImages:[],encodedLink:"",loading:!0,lastFMlast:!1,BITlast:!1,startTime:0,trackedArtists:{list:[]},removedArtist:"",shortUrl:""}},watch:{$route:function(){}},computed:{orderedEvents:function(){return it.a.orderBy(this.allLocalEvents,function(t){return new Date(t.datetime)})}},created:function(){window.document.title="ConcerTrack - Tracked Artists"},mounted:function(){if(k.saved.loaded)return this.allLocalEvents=k.saved.allLocalEvents,this.trackedArtists=k.saved.trackedArtists,this.countrySet=k.saved.countrySet||localStorage.getItem("Country")||!1,this.artistImages=k.saved.artistImages,this.loading=!1,void(this.showEvents=!0);this.startTime=new Date;var t=localStorage.getItem("Tracked");t?(this.trackedArtists=JSON.parse(t),k.saved.trackedArtists=this.trackedArtists):this.loading=!1,this.sortTrackedArtists();var e=localStorage.getItem("Country");if(e){this.countrySet=e,k.saved.countrySet=this.countrySet;for(var s=0,a=this.trackedArtists.list.length;s<a;s++){var i=this.trackedArtists.list[s];this.getLastFMInfo(i),this.getArtistEvents(i)}k.saved.loaded=!0}},methods:{showAllTrackedArtists:function(){var t=document.getElementById("tracked-artist-list-container");t.style.display="block",t.classList.add("slideInRight"),document.body.style.overflow="hidden";t.addEventListener("animationend",function(){this.classList.remove("slideInRight"),this.style.display="block"})},hideAllTrackedArtists:function(){var t=document.getElementById("tracked-artist-list-container");t.classList.add("slideOutRight"),document.body.style.overflow="auto";t.addEventListener("animationend",function(){this.classList.remove("slideOutRight"),this.style.display="none"})},getArtistEvents:function(t){var e=this,s="https://rest.bandsintown.com/";(function(t){return new _.a(function(e,a){fetch(s+"artists/"+t+"/events?app_id='ConcerTrack v0.0.1'",{method:"GET",headers:{accept:"application/json"}}).then(function(t){return t.json()}).then(function(t){e(t)}).catch(function(t){console.log(t)})})})(t).then(function(s){e.events=s,e.events.forEach(function(s){var a=new Date(s.datetime),i=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];s.datetime=a.getDate()+" "+i[a.getMonth()]+" "+a.getFullYear(),s.url?s.ticketUrl=s.url:s.searchUrl="https://duckduckgo.com/?q="+t+" "+s.datetime,s.venue.country==e.countrySet&&(e.localEvents.push(s),e.allLocalEvents.push(s)),e.allEvents.push(s)})}).then(function(){if(t==e.trackedArtists.list[e.trackedArtists.list.length-1]){if(e.BITlast=!0,!e.lastFMlast)return;e.showLocalEvents()}})},getLastFMInfo:function(t){var e=this;(function(t){var e=encodeURIComponent(t);return new _.a(function(t,s){fetch("https://ws.audioscrobbler.com/2.0/?method=artist.getinfo&api_key=a4629fdacfd93267704f599b874a59bf&format=json&artist="+e,{method:"GET",headers:{accept:"application/json"}}).then(function(t){return t.json()}).then(function(e){t(e)}).catch(function(t){console.log(t)})})})(t).then(function(s){if(s.error)throw s.message;var a=s.artist.image[s.artist.image.length-4]["#text"];e.artistImages.push({artist:t,url:a})}).then(function(){if(t==e.trackedArtists.list[e.trackedArtists.list.length-1]){if(e.lastFMlast=!0,!e.BITlast)return;e.showLocalEvents()}})},callBackForm:function(t,e){var s=this;if("artistSearch"==t){var a=e;k.doesArtistExist(a).then(function(t){t.id&&s.$router.push({path:"/artists/"+a})}).catch(function(t){t.toString().includes("SyntaxError")&&(s.$children[0].errorMessage="Sorry, we couldn't find that artist :(")})}else if("countrySearch"==t){var i=e;localStorage.setItem("Country",i),this.countrySet=i,this.localEvents=[];for(var n=0,r=this.events.length;n<r;n++){var o=this.events[n];o.venue.country==i&&this.localEvents.push(o)}this.allLocalEvents=[],this.allEvents=[],this.startTime=new Date;for(var c=0,l=this.trackedArtists.list.length;c<l;c++){var u=this.trackedArtists.list[c];this.getLastFMInfo(u),this.getArtistEvents(u)}}},resetCountry:function(){localStorage.removeItem("Country"),this.countrySet=!1,this.showEvents=!1,this.loading=!0},trackArtist:function(){if(this.tracking){this.tracking=!1;var t=this.trackedArtists.list.indexOf(this.lastFMData.name);-1!=t&&this.trackedArtists.list.splice(t,1)}else this.tracking=!0,this.trackedArtists.list.includes(this.lastFMData.name.toLowerCase())||this.trackedArtists.list.push(this.lastFMData.name.toLowerCase());localStorage.setItem("Tracked",st()(this.trackedArtists))},getExportLink:function(){var t=this,e=btoa(st()({list:this.trackedArtists.list}));e=e.split("=").shift(),this.encodedLink=window.location.origin+"/#/import/"+e,fetch("https://www.googleapis.com/urlshortener/v1/url?key=AIzaSyBNloeeEkS5UZofgsHxbcA-P7gq8XRffMQ",{method:"POST",headers:{"Content-Type":"application/json",accept:"application/json"},body:st()({longUrl:this.encodedLink})}).then(function(t){return t.json()}).then(function(e){t.shortUrl=e.id})},showLocalEvents:function(){var t=this,e=new Date,s=e.getTime()-this.startTime.getTime();setTimeout(function(){for(var e=0,s=t.allLocalEvents.length;e<s;e++)for(var a=t.allLocalEvents[e],i=0,n=t.artistImages.length;i<n;i++){var r=t.artistImages[i];r.artist.toLowerCase()==a.lineup[0].toLowerCase()&&(t.allLocalEvents[e].imageUrl=r.url)}t.showEvents=!0,t.loading=!1},s/10),k.saved.allLocalEvents=this.allLocalEvents,k.saved.artistImages=this.artistImages},removeFromTracked:function(t){var e=this.trackedArtists.list.indexOf(t);-1!=e&&this.trackedArtists.list.splice(e,1),localStorage.setItem("Tracked",st()(this.trackedArtists)),this.removedArtist=t},undoRemove:function(){for(var t=this,e=!1,s=0,a=this.trackedArtists.list.length;s<a;s++){this.trackedArtists.list[s].toLowerCase()==this.removedArtist.toLowerCase()&&(e=!0)}e||this.trackedArtists.list.push(this.removedArtist),localStorage.setItem("Tracked",st()(this.trackedArtists));var i=document.getElementById("undo-notification");i.classList.add("lightSpeedOut");var n=function(){i.classList.remove("lightSpeedOut"),t.removedArtist=""};i.addEventListener("animationend",function(){n()}),this.sortTrackedArtists()},sortTrackedArtists:function(){this.trackedArtists.list.sort(function(t,e){return t=t.replace("The ","").toLowerCase(),e=e.replace("The ","").toLowerCase(),t<e?-1:t>e?1:0})},hideUndo:function(){var t=this,e=document.getElementById("undo-notification");e.classList.add("lightSpeedOut");var s=function(){e.classList.remove("lightSpeedOut"),t.removedArtist=""};e.addEventListener("animationend",function(){s()})}}},mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"output-container"}},[t.removedArtist?s("span",{staticClass:"animated lightSpeedIn",attrs:{id:"undo-notification"},on:{click:t.hideUndo}},[s("p",[t._v("\n        "+t._s(t.removedArtist)+" removed from tracked artists, "),s("a",{on:{click:t.undoRemove}},[t._v("undo?")])])]):t._e(),t._v(" "),s("div",{attrs:{id:"main-content"}},[s("div",{attrs:{id:"not-list-container"}},[s("h1",[t._v("Tracked Artists")]),t._v(" "),t.countrySet?s("div",{attrs:{id:"local-events"}},[s("b",[t._v("Showing events in: '"+t._s(t.countrySet)+"'")]),t._v(" "),s("br"),t._v(" "),s("button",{on:{click:t.resetCountry}},[t._v("Change location")])]):s("div",{attrs:{id:"ask-location"}},[s("p",[t._v("\n                    No location set, do you want to set it now so we can show you events in your country?\n                ")]),t._v(" "),s("div",{attrs:{id:"country-tracked-view"}},[s("autocomplete",{attrs:{title:"Select country:",placeholder:"Country name",data:"static/countries.json",callback:"countrySearch",submitText:"Select"}})],1)]),t._v(" "),s("div",{attrs:{id:"export-button-container"}},[s("button",{on:{click:t.getExportLink}},[t._v("Get link to export tracked artists")]),t._v(" "),s("br"),t._v(" "),t.shortUrl?s("textarea",{attrs:{id:"",name:"",cols:"30",rows:"10"}},[t._v(t._s(t.shortUrl))]):t._e(),t._v(" "),s("br"),t._v(" "),t.shortUrl?s("p",[t._v("Open this URL in any other browser to share your tracked artists.")]):t._e()]),t._v(" "),s("button",{attrs:{id:"all-artists-button"},on:{click:t.showAllTrackedArtists}},[t._v("All Tracked Artists")])]),t._v(" "),s("div",{staticClass:"scrollable",attrs:{id:"tracked-artist-events-list"}},[t.loading&&t.countrySet?s("div",{staticClass:"message-div"},[t._v("\n                Loading events...\n            ")]):t._e(),t._v(" "),t._l(t.orderedEvents,function(e,a){return t.showEvents&&!t.showAllEvents?s("div",{staticClass:"tracked-artist-event animated fadeInLeft",style:{animationDelay:.1*a+"s"}},[s("img",{staticClass:"artist-image",attrs:{src:e.imageUrl,alt:e.lineup[0]}}),t._v(" "),s("div",{staticClass:"event-info-wrapper"},[s("h2",{staticClass:"artist-name"},[s("a",{attrs:{href:"#/artists/"+e.lineup[0]}},[t._v(t._s(e.lineup[0]))])]),t._v(" "),s("p",{staticClass:"event-date"},[t._v(t._s(e.datetime))]),t._v(" "),s("p",{staticClass:"event-city"},[t._v(t._s(e.venue.city))]),t._v(" "),s("p",{staticClass:"event-venue"},[t._v(t._s(e.venue.name))]),t._v(" "),s("p",{staticClass:"event-combined"},[t._v(t._s(e.venue.city)),s("br"),t._v(t._s(e.venue.name))]),t._v(" "),e.ticketUrl?s("a",{staticClass:"event-tickets",attrs:{href:e.ticketUrl}},[t._v("Tickets")]):s("a",{staticClass:"event-tickets",attrs:{href:e.searchUrl}},[t._v("Search for tickets")])])]):t._e()}),t._v(" "),t.showEvents&&!t.orderedEvents.length&&t.countrySet?s("div",{staticClass:"message-div"},[t._v("\n                No local events :(\n            ")]):t._e(),t._v(" "),t.countrySet?t._e():s("div",{staticClass:"message-div"},[t._v("\n                Choose a location to see local events.\n            ")]),t._v(" "),t.countrySet&&!t.trackedArtists.list.length?s("div",{staticClass:"message-div"},[t._v("\n                No tracked artists.\n            ")]):t._e()],2),t._v(" "),s("div",{staticClass:"animated",attrs:{id:"tracked-artist-list-container"}},[s("div",{attrs:{id:"artist-list-header"}},[s("p",[t._v("All tracked artists:")]),t._v(" "),s("i",{staticClass:"fa fa-times",on:{click:t.hideAllTrackedArtists}})]),t._v(" "),s("div",{attrs:{id:"tracked-artist-list"}},t._l(t.trackedArtists.list,function(e){return s("span",[s("i",{staticClass:"fa fa-times",on:{click:function(s){t.removeFromTracked(e)}}}),s("a",{attrs:{href:"#/artists/"+e},on:{click:t.hideAllTrackedArtists}},[t._v(" "+t._s(e)+" ")])])}))])])])},pt=[],_t={render:mt,staticRenderFns:pt},gt=_t,kt=s("VU/8"),wt=c,yt=kt(ft,gt,!1,wt,"data-v-0c2e6eeb",null),bt=yt.exports,Ct={data:function(){return{}},watch:{$route:function(){}},created:function(){window.document.title="ConcerTrack - Search For an Artist"},mounted:function(){document.getElementById("input-field").focus()},methods:{callBackForm:function(t,e){var s=this;if("artistSearch"==t){var a=e;k.doesArtistExist(a).then(function(t){k.lastArtist=t,t.id&&s.$router.push({path:"/artists/"+a})}).catch(function(t){if(t.toString().includes("SyntaxError"))for(var e=0,i=s.$children.length;e<i;e++){var n=s.$children[e];"autocomplete-container"==n.$el.id&&(n.inputValue=a,n.errorMessage="Sorry, we couldn't find that artist :(")}})}}}},St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"search-body"}},[t._m(0,!1,!1),t._v(" "),s("div",{attrs:{id:"not-description-wrapper"}},[s("div",{attrs:{id:"not-description"}},[s("autocomplete",{attrs:{title:"Search for events from an artist:",placeholder:"Artist name",data:"static/AllList.json",callback:"artistSearch",submitText:"Search"}}),t._v(" "),t._m(1,!1,!1)],1)])])},Et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"website-description"}},[s("h2",[t._v("\n            Find concerts, track artists. No hassle.\n        ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"img-container"}},[s("img",{attrs:{src:"static/map.svg",alt:""}})])}],At={render:St,staticRenderFns:Et},Lt=At,Mt=s("VU/8"),Tt=l,It=Mt(Ct,Lt,!1,Tt,"data-v-42b54b10",null),Ft=It.exports,Dt={data:function(){return{}},watch:{},created:function(){window.document.title="ConcerTrack - The Creator"},mounted:function(){},methods:{}},Ut=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0,!1,!1)},xt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"output-container"}},[s("div",{attrs:{id:"output"}},[s("div",{attrs:{id:"left-side"}},[s("img",{attrs:{src:"static/lg.png",alt:""}}),t._v(" "),s("div",{attrs:{id:"info-container"}},[s("h1",[t._v("Leon Grasmeijer")]),t._v(" "),s("a",{staticClass:"link-icon",attrs:{href:"https://github.com/LeonGr"}},[s("i",{staticClass:"fa fa-github",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("a",{staticClass:"link-icon",attrs:{href:"mailto:leongrasmeijer@gmail.com"}},[s("i",{staticClass:"fa fa-envelope-o",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("a",{staticClass:"link-icon",attrs:{href:"https://codepen.io/LeonGr/"}},[s("i",{staticClass:"fa fa-codepen",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("p",[t._v("\n                    Leon Grasmeijer is the developer of this website,\n                    he is studying Computer Science & Engineering at the Eindhoven University of Technology\n                    and loves mechanical keyboards and pizza. Read more on his "),s("a",{attrs:{href:"http://leongr.nl"}},[t._v("website")]),t._v(".\n                ")])])])])])}],$t={render:Ut,staticRenderFns:xt},Bt=$t,jt=s("VU/8"),Vt=u,Ot=jt(Dt,Bt,!1,Vt,"data-v-5cc8497c",null),Rt=Ot.exports,Gt={data:function(){return console.log("data"),{errorMessage:"",importCode:"",trackedArtists:{list:[]}}},watch:{$route:function(){console.log("route"),window.location.reload()}},mounted:function(){this.loadImport()},methods:{loadImport:function(){this.importCode=this.$route.params.importCode;var t=atob(this.importCode);try{JSON.parse(t)}catch(t){return void(this.errorMessage="Invalid import code. Are you sure you copied the correct URL? <br> It should look something like this: <a href='"+window.location.origin+"/#/import/eyJsaXN0IjpbInJpY2sgYXN0bGV5Il19'>"+window.location.origin+"/#/import/eyJsaXN0IjpbInJpY2sgYXN0bGV5Il19</a>")}localStorage.setItem("Tracked",t),this.$router.push({path:"/tracked"}),alert("Import Successful")},goBack:function(){console.log(this.$router.back())}}},qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"error-container"}},[s("div",{attrs:{id:"error-message-container"}},[s("h1",[t._v("Whoopsie daisy!")]),t._v(" "),s("p",{domProps:{innerHTML:t._s(t.errorMessage)}}),t._v(" "),s("a",{on:{click:t.goBack}},[t._v("Go back to previous page")])])])},Nt=[],Wt={render:qt,staticRenderFns:Nt},Jt=Wt,Yt=s("VU/8"),Ht=h,Pt=Yt(Gt,Jt,!1,Ht,"data-v-02758587",null),Xt=Pt.exports,zt={data:function(){return console.log("data"),{}},watch:{$route:function(){console.log("route")}},created:function(){window.document.title="ConcerTrack - Contact"},mounted:function(){},methods:{}},Qt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0,!1,!1)},Zt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"contact"}},[s("div",{attrs:{id:"contact-body"}},[s("h1",[t._v("Contact")]),t._v(" "),s("p",[t._v("\n            Do you have a question, an idea for improvement or do you just want to thanks us for building this website?\n            "),s("br"),t._v(" "),s("br"),t._v("\n            You can contact us at "),s("a",{attrs:{href:"mailto:contact@ConcerTrack.com"}},[t._v("contact@ConcerTrack.com")]),t._v(".\n        ")])])])}],Kt={render:Qt,staticRenderFns:Zt},te=Kt,ee=s("VU/8"),se=d,ae=ee(zt,te,!1,se,"data-v-30b802e6",null),ie=ae.exports,ne={data:function(){return console.log("data"),{}},watch:{$route:function(){console.log("route")}},created:function(){window.document.title="ConcerTrack - Disclaimer"},mounted:function(){},methods:{}},re=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0,!1,!1)},oe=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"disclaimer"}},[s("div",{attrs:{id:"disclaimer-body"}},[s("h1",[t._v("Disclaimer")]),t._v(" "),s("p",[t._v("\n            All information about concerts comes from "),s("a",{attrs:{href:"https://bandsintown.com"}},[t._v("bandsintown.com")]),t._v(". Huge thanks to them and please go to their site for more information, news, reviews and more!\n        ")])])])}],ce={render:re,staticRenderFns:oe},le=ce,ue=s("VU/8"),he=v,de=ue(ne,le,!1,he,"data-v-49771a64",null),ve=de.exports,fe={data:function(){return{}},watch:{$route:function(){}},created:function(){window.document.title="ConcerTrack - Frequently Asked Questions"},mounted:function(){},methods:{}},me=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0,!1,!1)},pe=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"faq"}},[s("div",{attrs:{id:"faq-body"}},[s("h1",[t._v("Frequently Asked Questions:")]),t._v(" "),s("div",{staticClass:"question"},[s("h2",[t._v("Why does "),s("i",[t._v("artist_name")]),t._v(" not show up in the autocomplete list?")]),t._v(" "),s("p",[t._v("We are trying to get as many artists as possible in our autocomplete function. But sometimes the artist just does not exist in any of the lists we are using. This does not always mean that we don't have info on the artist! You can contact us as "),s("a",{attrs:{href:"mailto:contact@concertrack.com"}},[t._v("contact@concertrack.com")]),t._v(" and we'll gladly add them to our list.")])]),t._v(" "),s("div",{staticClass:"question"},[s("h2",[t._v("Why does "),s("i",[t._v("artist_name")]),t._v(' show up in the autocomplete list but gives an "artist not found" error?')]),t._v(" "),s("p",[t._v("We are using the "),s("a",{attrs:{href:"https://bandsintown.com"}},[t._v("bandsintown")]),t._v(" and "),s("a",{attrs:{href:"https://last.fm"}},[t._v("last.fm")]),t._v(" APIs to get our information. So if they don't have information about the artist, we unfortunately can't provide you with information either.")])]),t._v(" "),s("div",{staticClass:"question"},[s("h2",[t._v("This site sucks!")]),t._v(" "),s("p",[t._v("That's not a question. However, we are always happy to hear suggestions on how to improve our site! Send us a message at "),s("a",{attrs:{href:"mailto:contact@concertrack.com"}},[t._v("contact@concertrack.com")]),t._v(".")])]),t._v(" "),s("div",{staticClass:"question"},[s("h2",[t._v("More questions?")]),t._v(" "),s("p",[t._v("We can help! Just send us an email and we will try to get back to you as soon as possible: "),s("a",{attrs:{href:"mailto:contact@concertrack.com"}},[t._v("contact@concertrack.com")]),t._v(".")])])])])}],_e={render:me,staticRenderFns:pe},ge=_e,ke=s("VU/8"),we=f,ye=ke(fe,ge,!1,we,"data-v-592ad4b1",null),be=ye.exports;m.a.use(tt.a);var Ce=new tt.a({routes:[{path:"/faq",component:be},{path:"/contact",component:ie},{path:"/disclaimer",component:ve},{path:"/import/:importCode",component:Xt},{path:"/tracked",component:bt},{path:"/artists/Leon Grasmeijer",component:Rt},{path:"/artists/Leon%20Grasmeijer",redirect:"/artists/Leon Grasmeijer"},{path:"/artists/:artist",component:vt},{path:"/",component:Ft},{path:"*",redirect:"/"}]}),Se={data:function(){return{inputValue:"",listOfData:[],allMatching:[],startMatching:[],showMatching:[],lastInputLength:0,maxResults:10,selectedSuggestion:null,errorMessage:"",partlyTyped:"",waiting:null}},props:{title:"",placeholder:"",data:"",callback:"",submitText:""},watch:{$route:function(){this.errorMessage=""}},mounted:function(){var t=this,e=function(e){var s=Array.prototype.slice.call(t.$el.children[0].children);"li"!=e.target.localName&&1!=s.indexOf(e.target)&&t.deselectInput()};window.addEventListener("mousedown",function(t){e(t)});var s=function(e){"ArrowDown"==e||"Tab"==e?t.selectSuggestion("down"):"ArrowUp"==e?t.selectSuggestion("up"):"Enter"==e&&t.submitSearch()};this.$el.children[0].children[1].addEventListener("keydown",function(t){s(t.key),(t.key.includes("ArrowUp")||t.key.includes("ArrowDown")||t.key.includes("Tab"))&&t.preventDefault()})},methods:{selectInput:function(){var t=this;if(!this.listOfData.length){k.autocompleteList&&k.autocompleteList[this.data]?this.listOfData=k.autocompleteList[this.data]:function(){return new _.a(function(e,s){fetch(window.location.origin+"/"+t.data,{method:"GET",headers:{accept:"application/json"}}).then(function(t){return t.json()}).then(function(t){e(t)}).catch(function(t){console.log(t)})})}().then(function(e){t.listOfData=e,k.autocompleteList[t.data]=t.listOfData})}},deselectInput:function(){this.showMatching=this.allMatching=this.startMatching=[]},submitSearch:function(){if(null!=this.selectedSuggestion){var t=document.getElementById("search-results"),e=t.children;this.inputValue=e[this.selectedSuggestion].innerText}this.submitForm()},selectSuggestion:function(t){var e=document.getElementById("search-results");if(e){for(var s=e.children,a=0,i=s.length;a<i;a++)s[a].classList.remove("selected");"up"==t?this.selectedSuggestion?(this.selectedSuggestion--,s[this.selectedSuggestion].classList.add("selected")):(this.selectedSuggestion=null,this.inputValue=this.partlyTyped):"down"==t&&(null==this.selectedSuggestion?(this.partlyTyped=this.inputValue,this.selectedSuggestion=0,s[this.selectedSuggestion].classList.add("selected")):this.selectedSuggestion==this.showMatching.length-1?(this.selectedSuggestion=null,this.inputValue=this.partlyTyped):(this.selectedSuggestion++,s[this.selectedSuggestion].classList.add("selected"))),s[this.selectedSuggestion]&&(this.inputValue=s[this.selectedSuggestion].innerText)}},clickSearchResult:function(t){this.inputValue=t.target.innerText,this.submitForm()},hoverSearchResult:function(t){for(var e=document.getElementById("search-results"),s=e.children,a=0,i=s.length;a<i;a++)s[a].classList.remove("selected"),t.target==s[a]&&(this.selectedSuggestion=a,t.target.classList.add("selected"))},inputChanged:function(){var t=this;this.selectedSuggestion=null;this.errorMessage="";var e=this.inputValue.toLowerCase();if(e.length>1){if(e.length>this.lastInputLength&&this.allMatching.length>0){this.selectedSuggestion=null;for(var s=[],a=[],i=0,n=this.startMatching.length;i<n;i++)this.startMatching[i].toLowerCase().startsWith(e)&&a.push(this.startMatching[i]);for(var r=0,o=this.allMatching.length;r<o;r++){var c=this.allMatching[r];c.toLowerCase().includes(e)&&!c.startsWith(e)&&s.push(this.allMatching[r])}this.allMatching=s,this.startMatching=a}else{this.allMatching=[],this.startMatching=[];for(var l=0,u=this.listOfData.length;l<u;l++){var h=this.listOfData[l];h.toLowerCase().startsWith(e)?this.startMatching.push(h):h.toLowerCase().includes(e)&&!h.startsWith(e)&&this.allMatching.push(h)}}this.showMatching=[];for(var d=this.maxResults,v=0,f=d;v<f;v++)v<this.startMatching.length&&this.showMatching.push(this.startMatching[v]);if(this.showMatching.length<d)for(var m=d-this.showMatching.length,p=0,g=m;p<g;p++)p<this.allMatching.length&&this.showMatching.push(this.allMatching[p]);if(this.showMatching.length<d){var k=function(t){return new _.a(function(e,s){fetch("http://localhost:5000/get_artists/"+t,{method:"GET",headers:{accept:"application/json"}}).then(function(t){return t.json()}).then(function(t){e(t)}).catch(function(t){s(t)})})},w=function(){k(t.inputValue).then(function(s){for(var a=s.contains,i=d-t.showMatching.length,n=0,r=i;n<r;n++)n<a.length&&!function(e){var s=!1;e=e.toLowerCase();for(var a=0,i=t.showMatching.length;a<i;a++){if(t.showMatching[a].toLowerCase()==e){s=!0;break}}return s}(a[n])&&t.showMatching.push(a[n]);t.showMatching.sort(function(s,a){s=s.toLowerCase().replace("the ",""),a=a.toLowerCase().replace("the ",""),e=t.inputValue.toLowerCase().replace("the ",""),console.log(s),console.log(a),console.log(e);var i=s.startsWith(e),n=a.startsWith(e);if(i&&!n)return-1;if(!i&&n)return 1;if(!i&&!n){if(s>a)return 1;if(s<a)return-1}return 0})})};clearTimeout(this.waiting),this.waiting=setTimeout(w,500)}}else this.allMatching=this.startMatching=this.showMatching=[];this.lastInputLength=this.inputValue.length},submitForm:function(){this.inputValue&&(this.showMatching=this.allMatching=this.startMatching=[],this.$parent.callBackForm(this.callback,this.inputValue),this.inputValue="",this.errorMessage="")},hideError:function(){var t=this,e=document.getElementById("errorMessage");e.classList.add("lightSpeedOut");var s=function(){e.classList.remove("lightSpeedOut"),t.errorMessage=""};e.addEventListener("animationend",function(){s()})}}},Ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"autocomplete-container"}},[s("form",{attrs:{id:"autocomplete-form"},on:{submit:function(t){t.preventDefault()}}},[s("h1",{attrs:{id:"title"}},[t._v(t._s(t.title))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],attrs:{id:"input-field",type:"text",placeholder:t.placeholder,autocomplete:"off"},domProps:{value:t.inputValue},on:{input:[function(e){e.target.composing||(t.inputValue=e.target.value)},t.inputChanged],focus:t.selectInput}}),t._v(" "),s("button",{attrs:{id:"submitButton"},domProps:{innerHTML:t._s(t.submitText)},on:{click:t.submitForm}}),t._v(" "),t.showMatching.length?s("ul",{attrs:{id:"search-results"}},t._l(t.showMatching,function(e,a){return s("li",{staticClass:"animated fadeIn",style:{animationDelay:.03*a+"s"},on:{click:function(e){t.clickSearchResult(e)},mouseover:function(e){t.hoverSearchResult(e)}}},[t._v(t._s(e))])})):t._e()]),t._v(" "),t.errorMessage?s("h1",{staticClass:"animated lightSpeedIn",attrs:{id:"errorMessage"},on:{click:t.hideError}},[t._v(t._s(t.errorMessage))]):t._e()])},Ae=[],Le={render:Ee,staticRenderFns:Ae},Me=Le,Te=s("VU/8"),Ie=Te(Se,Me,!1,null,null,null),Fe=Ie.exports;m.a.config.productionTip=!1,m.a.component("autocomplete",Fe),new m.a({el:"#app",router:Ce,template:"<App/>",components:{App:K}})},Nf3F:function(t,e){},QxwV:function(t,e){},SWcn:function(t,e){},TYRY:function(t,e){},WDiv:function(t,e){},"Y+Ek":function(t,e){},dD7k:function(t,e){},fBEi:function(t,e){},kSW6:function(t,e){},r3zT:function(t,e){},sAEu:function(t,e){},vN4w:function(t,e){},vpXx:function(t,e){},ys6E:function(t,e){},zIUh:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.503b3060afc2fbb6e428.js.map